## **ğŸ“— ëª©ì°¨**


ğŸ† [í”„ë¡œì íŠ¸ ì†Œê°œ](#-í”„ë¡œì íŠ¸-ì†Œê°œ)

ğŸ‘¨ğŸ»â€ğŸ’» [íŒ€ì› ì†Œê°œ](#-íŒ€ì›-ì†Œê°œ)

ğŸ›  [ê°œë°œ ë„êµ¬](#-ê°œë°œ-ë„êµ¬)

â° [í”„ë¡œì íŠ¸ ì¼ì •](#-í”„ë¡œì íŠ¸-ì¼ì •)

ğŸ”— [APIëª…ì„¸ì„œì™€ ERDì„¤ê³„ë„](#-APIëª…ì„¸ì„œì™€-ERDì„¤ê³„ë„)
  
ğŸ“ [ë©”ë‰´êµ¬ì¡°ë„](#-ë©”ë‰´êµ¬ì¡°ë„)
  
âœ¨ [í™”ë©´ êµ¬í˜„ ë° ì½”ë“œ ë¦¬ë·°](#-í™”ë©´-êµ¬í˜„-ë°-ì½”ë“œ-ë¦¬ë·°)
  - [íšŒì›ê°€ì… í™”ë©´ êµ¬í˜„ ì˜ìƒ ë° ì½”ë“œ ë¦¬ë·°](#íšŒì›ê°€ì…-í™”ë©´-êµ¬í˜„-ì˜ìƒ-ë°-ì½”ë“œ-ë¦¬ë·°)
  - [ë¡œê·¸ì¸ í™”ë©´ êµ¬í˜„ ì˜ìƒ ë° ì½”ë“œ ë¦¬ë·°](#ë¡œê·¸ì¸-í™”ë©´-êµ¬í˜„-ì˜ìƒ-ë°-ì½”ë“œ-ë¦¬ë·°)
  - [í€ë”© ë©”ì¸ í˜ì´ì§€ í™”ë©´ êµ¬í˜„ ì˜ìƒ ë° ì½”ë“œ ë¦¬ë·°](#í€ë”©-ë©”ì¸-í˜ì´ì§€-í™”ë©´-êµ¬í˜„-ì˜ìƒ-ë°-ì½”ë“œ-ë¦¬ë·°)
  - [í€ë”© ìƒì„¸ í˜ì´ì§€ í™”ë©´ êµ¬í˜„ ì˜ìƒ ë° ì½”ë“œ ë¦¬ë·°](#í€ë”©-ìƒì„¸-í˜ì´ì§€-í™”ë©´-êµ¬í˜„-ì˜ìƒ-ë°-ì½”ë“œ-ë¦¬ë·°)
  - [ê´€ë¦¬ì í€ë”© ë° ê¸°ë¶€ ë“±ë¡ í˜ì´ì§€ í™”ë©´ êµ¬í˜„ ì˜ìƒ ë° ì½”ë“œ ë¦¬ë·°](#ê´€ë¦¬ì-í€ë”©-ë°-ê¸°ë¶€-ë“±ë¡-í˜ì´ì§€-í™”ë©´-êµ¬í˜„-ì˜ìƒ-ë°-ì½”ë“œ-ë¦¬ë·°)
  - [ê´€ë¦¬ì í€ë”© ë° ê¸°ë¶€ ìˆ˜ì • í™”ë©´ êµ¬í˜„ ì˜ìƒ ë° ì½”ë“œ ë¦¬ë·°](#ê´€ë¦¬ì-í€ë”©-ë°-ê¸°ë¶€-ìˆ˜ì •-í™”ë©´-êµ¬í˜„-ì˜ìƒ-ë°-ì½”ë“œ-ë¦¬ë·°)
  - [ê´€ë¦¬ì í€ë”© ë° ê¸°ë¶€ ì‚­ì œ í™”ë©´ êµ¬í˜„ ì˜ìƒ ë° ì½”ë“œ ë¦¬ë·°](#ê´€ë¦¬ì-í€ë”©-ë°-ê¸°ë¶€-ì‚­ì œ-í™”ë©´-êµ¬í˜„-ì˜ìƒ-ë°-ì½”ë“œ-ë¦¬ë·°)
  - [OAuth2 íšŒì›ê°€ì… ë° ë¡œê·¸ì¸ í™”ë©´ êµ¬í˜„ ì˜ìƒ ë° ì½”ë“œ ë¦¬ë·°](#OAuth2-íšŒì›ê°€ì…-ë°-ë¡œê·¸ì¸-í™”ë©´-êµ¬í˜„-ì˜ìƒ-ë°-ì½”ë“œ-ë¦¬ë·°)
  - [OAuth2 Google, Kakao ê³„ì • í†µí•© í™”ë©´ êµ¬í˜„ ì˜ìƒ ë° ì½”ë“œ ë¦¬ë·°](#OAuth2-Google-Kakao-ê³„ì •-í†µí•©-í™”ë©´-êµ¬í˜„-ì˜ìƒ-ë°-ì½”ë“œ-ë¦¬ë·°)
  
ğŸ‘¨ğŸ»â€ğŸ’» [ëŠë‚€ì ](#-ëŠë‚€ì )

<br/>

## **ğŸ† í”„ë¡œì íŠ¸ ì†Œê°œ**

- í”„ë¡œì íŠ¸ ì œëª© - í€ë”© ë° ê¸°ë¶€ ì„œë¹„ìŠ¤ í…ŒìŠ¤íŠ¸

- í”„ë¡œì íŠ¸ ëª©ì  - ë°°ìš´ ê²ƒë“¤ì„ ë³µìŠµ ë° í™œìš©, í˜‘ì—…ì— ëŒ€í•œ ì´í•´

- ë¶„ë¥˜ - íŒ€í”„ë¡œì íŠ¸

- ì œì‘ ê¸°ê°„ - 2023.05.03 ~ 2023.06.07

<br/>

## **ğŸ‘¨ğŸ»â€ğŸ’» íŒ€ì› ì†Œê°œ**

<br/>

> **íŒ€ì¥: ì •ì˜í˜„** 
- ì‚¬ìš©í•œ í†µê³„ì— í”„ë¡œì íŠ¸ ì„¤ê³„
- í€ë”©í˜ì´ì§€ CRUD ê¸°ëŠ¥ êµ¬í˜„ ë° CSS
- ë¡œê·¸ì¸ ë° íšŒì›ê°€ì… ê¸°ëŠ¥ êµ¬í˜„
- security jwt ë° accessToken ë””í…Œì¼ ì‘ì—…
- íŒŒì¼ ì…ì¶œë ¥
- API ëª…ì„¸ì„œ
- ê´€ë¦¬ì CRUD ê¸°ëŠ¥ êµ¬í˜„
- OAuth2 ë¡œê·¸ì¸, íšŒì›ê°€ì… ê¸°ëŠ¥ êµ¬í˜„
- ê²°ì œ ê¸°ëŠ¥ êµ¬í˜„

<br/>

> **íŒ€ì›: ê¹€ìˆ˜í˜„** 
- ë©”ì¸ í˜ì´ì§€ ê¸°ëŠ¥ êµ¬í˜„ ë° CSS
- header ì‘ì—…
- ppt ì‘ì—…

<br/>

> **íŒ€ì›: ê¹€ìƒí˜„** 
- ê¸°ë¶€í˜ì´ì§€ CRUD ê¸°ëŠ¥êµ¬í˜„ ë° CSS
- ë¡œê·¸ì¸ íšŒì›ê°€ì… í˜ì´ì§€ CSS
- ERD ëª…ì„¸ì„œ
- security jwt ë° accessToken í‹€ ì‘ì—…

<br/>

> **íŒ€ì›: ì´í•´ê°•** 
- ë°ì´í„° í¬ë¡¤ë§
- ê²€ìƒ‰ ê¸°ëŠ¥

<br/>

## **ğŸ›  ê°œë°œ ë„êµ¬**

<br/>

### FrontEnd

<img src="https://img.shields.io/badge/Visual Studio Code-007ACC?style=for-the-badge&logo=Visual Studio Code&logoColor=white"/> <img src="https://img.shields.io/badge/html5-E34F26?style=for-the-badge&logo=html5&logoColor=white"> 
<img src="https://img.shields.io/badge/css-1572B6?style=for-the-badge&logo=css3&logoColor=white"> 
<img src="https://img.shields.io/badge/javascript-F7DF1E?style=for-the-badge&logo=javascript&logoColor=black"> 
<img src="https://img.shields.io/badge/react-61DAFB?style=for-the-badge&logo=react&logoColor=black"> 

### BackEnd

<img src="https://img.shields.io/badge/springboot-6DB33F?style=for-the-badge&logo=springboot&logoColor=white"> <img src="https://img.shields.io/badge/mysql-4479A1?style=for-the-badge&logo=mysql&logoColor=white"> 

### í˜•ìƒ ê´€ë¦¬
<img src="https://img.shields.io/badge/github-181717?style=for-the-badge&logo=github&logoColor=white"> <img src="https://img.shields.io/badge/git-F05032?style=for-the-badge&logo=git&logoColor=white">

<br/>

***ORM: Mybatis***

<br/>

## **â° í”„ë¡œì íŠ¸ ì¼ì •**


![ìŠ¤í¬ë¦°ìƒ·(1)](https://github.com/KORIT-KLJK/CrowdFunding-portfolio/assets/121987405/4f7ea0ba-3d55-4106-9672-da1fde38a496)

<br/><br/>

**ì°¸ê³  ì›¹ì‚¬ì´íŠ¸:** https://happybean.naver.com/

<br/>

## **ğŸ”— APIëª…ì„¸ì„œì™€ ERDì„¤ê³„ë„**

### API ëª…ì„¸ì„œ

https://third-tempo-8c0.notion.site/4b573b520b424c3590c6ce244e1df794?v=f2f7a9bebd714ea3be176765f004f3d2

<br/>

### ERD ì„¤ê³„ë„


<div align="center">
 
 ### í€ë”© ERD
 
</div>

![KakaoTalk_20230605_153904436](https://github.com/KORIT-KLJK/CrowdFunding-portfolio/assets/121987405/c6a471b0-85f3-4d27-a258-0ac460f730d4)

<br/><br/>

<div align="center">
 
 ### ê¸°ë¶€ ERD

![KakaoTalk_20230605_154821409](https://github.com/KORIT-KLJK/CrowdFunding-portfolio/assets/121987405/86dc51b4-dca5-4fa9-bfb5-7398474b865f)


 
</div>

<br/><br/>

## **ğŸ“ ë©”ë‰´êµ¬ì¡°ë„**

![ìŠ¤í¬ë¦°ìƒ·(2)](https://github.com/KORIT-KLJK/CrowdFunding-portfolio/assets/121987405/263c80b5-0421-4bb8-b7ac-96c53100b837)

<br/>

## **âœ¨ í™”ë©´ êµ¬í˜„ ë° ì½”ë“œ ë¦¬ë·°**

<br/>

### **íšŒì›ê°€ì… í™”ë©´ êµ¬í˜„ ì˜ìƒ ë° ì½”ë“œ ë¦¬ë·°**

<details>
<summary>ì´ë©”ì¼ ìœ íš¨ì„± ê²€ì‚¬ ì˜ìƒê³¼ ì½”ë“œ ë¦¬ë·°</summary>
<div markdown="1">

</br>

**ì˜ìƒ**

</br>

![ì´ë©”ì¼ ìœ íš¨ì„± ê²€ì‚¬](https://github.com/KORIT-KLJK/CrowdFunding-portfolio/assets/121987405/0bf30e4f-bf10-4864-a202-cba2c63a045d)

</br></br>

## FrontEnd

<br/>

**ì›¹ì—ì„œ ì´ë©”ì¼ ì…ë ¥ ë°›ê¸°**

```html

<div css={signupInputContainerWrap}>
    <FormControl variant="standard">
            <Input id="input-with-icon-adornment"
                css={placeholderFontSize}
                label="email" 
                variant="outlined" 
                placeholder="ì´ë©”ì¼ ì£¼ì†Œ ì…ë ¥" 
                name="email" 
                type="text" 
                onChange={onChangeHandler} 
                startAdornment={
                    <InputAdornment position="start">
                    <Mail />
                    </InputAdornment>
                } />
                {emailSubmitDisabled ? (
                successMessage.email && <Alert css={errorCss} severity="success">{successMessage.email}</Alert>
            ) : (
                <>
                    {emailErrorMessage.email && <Alert css={errorCss} severity="error">{emailErrorMessage.email}</Alert>}
                    {errorMessage.email && <Alert css={errorCss} severity="error">{errorMessage.email}</Alert>}
                </>
            )}
        </FormControl>
        <Button variant="contained" css={checkedEmail} onClick={checkedEmailSubmit}>ì¤‘ë³µí™•ì¸</Button>
    </div>

```

</br>

- input ì°½ì— ì´ë©”ì¼ ì…ë ¥ì„ ë°›ê³ , ì¤‘ë³µí™•ì¸ ë²„íŠ¼ë„ ë„£ì–´ì¤€ë‹¤.
- input ì°½ì—ëŠ” onChange, buttonì—ëŠ” onClickì„ ë„£ì–´ì¤Œìœ¼ë¡œì¨ ë‚´ê°€ ì·¨í•œ í–‰ë™ì— ëŒ€í•œ ê°’ì„ í•¨ìˆ˜ë¡œ ë„˜ê²¨ì¤€ë‹¤.

---

</br></br>

**ì…ë ¥ ë°›ì€ ê°’ ì²˜ë¦¬**

```javascript

const onChangeHandler = (e) => {
    const { name, value } = e.target;
    setSignUp({...signUp, [name]: value});
}

```

</br>

- nameì—ëŠ” email, valueì—ëŠ” emailì´ë¼ëŠ” ì´ë¦„ì„ ê°€ì§„ inputì°½ì— ê°’ì´ ë“¤ì–´ê°€ìˆë‹¤.
- ì…ë ¥ ë°›ì€ ê°’ì„ setSignUp(useStateë¡œ ë Œë”ë§ì´ ë  ë•Œ ë§ˆë‹¤ ìƒíƒœê°€ ì—…ë°ì´íŠ¸ê°€ ëœë‹¤)ì— ë°ì´í„°ë¥¼ ë„£ì–´ì¤€ë‹¤.

---

</br></br>

**ìš”ì²­**

```javascript

    const checkedEmailSubmit = () => {
        checkDuplicateEmail.mutate();
    }

```

</br>

```javascript

const checkDuplicateEmail = useMutation(async () => {
    setErrorMessages({email: ""})

    const data = {
        email: signUp.email
    }
    const option = {
        headers: {
            "Content-Type": "application/json"
        }
    }

    try {
        await axios.post("http://localhost:8080/auth/checkemail", JSON.stringify(data), option)
        setSuccessMessage({email: <div css={availableEmail}>ì‚¬ìš© ê°€ëŠ¥í•œ ì´ë©”ì¼ì…ë‹ˆë‹¤.</div>})
        setEmailSubmitDisabled(true);
    }catch(error) {
        setEmailErrorMessage({email: error.response.data.errorData.email})
        setEmailSubmitDisabled(false);
    }
})

```

</br>

- useMutationì„ ì‚¬ìš©í•´ ìš”ì²­ì„ ë³´ë‚´ë©´ ìƒíƒœ ê´€ë¦¬ë‚˜ ì—ëŸ¬ ì²˜ë¦¬ ë¶€ë¶„ì— ìˆì–´ì„œ ìš©ì´í•˜ë‹¤. ê·¸ë˜ì„œ get ìš”ì²­ì„ ì œì™¸í•˜ê³ ëŠ” useMutationì„ ì‚¬ìš©í•˜ì—¬ ìš”ì²­ì„ ë³´ë‚´ëŠ” ê²ƒì´ ì¢‹ë‹¤.
  get ìš”ì²­ì— ê´€í•œ ê²ƒì€ ì•„ë˜ì—ì„œ ë‹¤ë£° ê²ƒì´ë‹¤. 

- JavascriptëŠ” ì‹±ê¸€ ì“°ë ˆë“œì´ê¸° ë•Œë¬¸ì— ëª¨ë“  ì½”ë“œê°€ ë¹„ë™ê¸° ì²˜ë¦¬ë¡œ ë¼ì„œ ìš”ì²­ì—ì„œ ì˜¤ë¥˜ê°€ ê½¤ ìƒê¸¸ ìˆ˜ ìˆë‹¤. ì˜ˆë¥¼ ë“¤ì–´, ìš”ì²­ì— ëŒ€í•œ ì½”ë“œ ë°”ë¡œ ë‹¤ìŒì— ì‘ë‹µìœ¼ë¡œ ë°›ì€ ë°ì´í„°ë¥¼ ê°€ì§€ê³  ì²˜ë¦¬í•˜ëŠ” ì½”ë“œê°€ ìˆë‹¤ ì¹˜ì. ì„œë²„ì— ë°ì´í„° ìš”ì²­ì„ ë³´ë‚´ê³  ë‚˜ì„œ ì‘ë‹µì´ ì˜¤ì§€ë„ ì•ŠìŒê³¼ ë™ì‹œì— í•„ìš”í•œ ë°ì´í„°ë¥¼ ë°›ì§€ë„ ëª»í–ˆëŠ”ë° ë‹¤ìŒ ì½”ë“œê°€ ì‹¤í–‰ì´ ë˜ëŠ” ìƒí™©ì´ ìƒê²¨ë²„ë¦°ë‹¤. ê·¸ë˜ì„œ ë¹„ë™ê¸° ì²˜ë¦¬ ê³¼ì •ì„ ë™ê¸°ì ì¸ ê²ƒì²˜ëŸ¼ ì‹¤í–‰í•˜ê¸° ìœ„í•´ async í•¨ìˆ˜ì™€ í•¨ê»˜ await í‚¤ì›Œë“œë¥¼ ì“´ë‹¤. (ë¹„ë™ê¸° ì²˜ë¦¬ê°€ ì‹¤ì œ ë™ê¸° ì²˜ë¦¬ê°€ ë˜ëŠ” ê²ƒì´ ì•„ë‹ˆê³ , ë™ê¸°ì™€ ìœ ì‚¬í•˜ê²Œ ë³´ì´ëŠ” ê²ƒì„)

- ì„œë²„ë¡œ ë³´ë‚¸ ìš”ì²­ ë°ì´í„°ë¥¼ ë™ê¸°ì ì¸ ê²ƒì²˜ëŸ¼ ì‹¤í–‰ì„ í•˜ê³  ì‹¶ê¸° ë•Œë¬¸ì— await ë’¤ì— ìš”ì²­ urlì„ ë„£ì–´ì¤€ë‹¤.

- input ì°½ì—ì„œ ì…ë ¥ ë°›ì€ ê°’ì„ ìš”ì²­ ë°ì´í„°ë¡œ ë³´ë‚¸ë‹¤.

- ë§Œì•½ ìœ íš¨ì„± ê²€ì‚¬ì—ì„œ ì—ëŸ¬ ì—†ì´ ì„±ê³µì ìœ¼ë¡œ ì²˜ë¦¬ê°€ ëë‹¤ë©´ "ì‚¬ìš© ê°€ëŠ¥í•œ ì´ë©”ì¼ì…ë‹ˆë‹¤."ë¥¼ ë„ì›Œì¤€ë‹¤.

- ì—ëŸ¬ê°€ ìˆë‹¤ë©´ ê²€ì‚¬í•´ì„œ ë–´ë˜ ì—ëŸ¬ ë‚´ìš©ì„ setEmailErrorMessageì— ë‹´ëŠ”ë‹¤.

- setEmailSubmitDisabledì— ë„£ì–´ì¤€ ìƒíƒœ ê°’ì€ ì•„ë˜ íšŒì›ê°€ì… ì„±ê³µì— ì„¤ëª…ì´ ìˆë‹¤.
  
---

</br></br>

## BackEnd

<br/>

**Controller**

```java

@RestController
@RequiredArgsConstructor
@RequestMapping("/auth")
public class SignUpController {
	
	private final SignUpService signUpService;
	
	@ValidAspect
	@PostMapping("/checkemail")
	public ResponseEntity<?> duplicatedEmail(@Valid @RequestBody DuplicatedEmailReqDto email, BindingResult bindingResult) {
		signUpService.duplicatedEmail(email.getEmail());
		return ResponseEntity.ok().body(true);
	}
	
}

```

</br>

- í”„ë¡ íŠ¸ì—ì„œ ë³´ë‚¸ emailì„ ë°›ì•„ì¤€ë‹¤.
- Postìš”ì²­(CRUD ì¤‘ Create)ì— ëŒ€í•œ ë°ì´í„° ì²˜ë¦¬.
- @Validë¥¼ ë‹¬ì•„ì£¼ë©´ dto ì•ˆì— ìˆëŠ” email(), Pattern() ë“±ì„ ê²€ì‚¬í•´ì¤€ë‹¤.
- @Validì™€ BindingResultëŠ” ì„¸íŠ¸ì„. signUpReqDtoì˜ ì˜¤ë¥˜ë¥¼ BindingResultì—ê²Œ ëª¨ë‘ ë„˜ê²¨ì¤€ë‹¤.

---

</br></br>

**Dto**

```java

@Data
public class DuplicatedEmailReqDto {
	@Email
	@NotBlank(message="ì´ë©”ì¼ì„ ì…ë ¥í•˜ì„¸ìš”")
	private String email;
}

```

</br>

- @Emailê³¼ @NotBlank ë“± validationê³¼ ê´€ë ¨ëœ ì–´ë…¸í…Œì´ì…˜ì„ ì¨ì£¼ë©´ ê±°ê¸°ì— í•´ë‹¹ë˜ëŠ” ë©”ì„¸ì§€ë¥¼ ì—ëŸ¬ ë©”ì„¸ì§€ë¡œ ë°˜í™˜í•´ì¤€ë‹¤. 

---

</br></br>

**Service**

```java

public void duplicatedEmail(String email) {
  if(signUpRepository.findUserByEmail(email) != null) {
    throw new CustomException("Duplicated Email", 
        ErrorMap.builder()
        .put("email", "ì‚¬ìš© ì¤‘ì¸ emailì…ë‹ˆë‹¤.")
        .build());
  }
}

```

</br>

- Controllerì—ì„œ ë³´ë‚¸ emailì„ ë°›ì•„ì„œ ë°ì´í„°ë² ì´ìŠ¤ì— ìˆëŠ” ì´ë©”ì¼ê³¼ ë¹„êµë¥¼ í•œë‹¤.
- ì´ë©”ì¼ì´ ì¡´ì¬í•œë‹¤ë©´ ë”°ë¡œ ë§Œë“¤ì–´ì¤€ CustomExceptionì´ë¼ëŠ” ê°ì²´ì™€ ErrorMapì´ë¼ëŠ” ê°ì²´ì— "email"ì´ë¼ëŠ” í‚¤ì™€ "ì‚¬ìš© ì¤‘ì¸ emailì…ë‹ˆë‹¤."ë¼ëŠ” valueë¥¼ ë„£ì–´ì¤€ë‹¤.
- ì´ ì—ëŸ¬ ë©”ì„¸ì§€ë¥¼ ë§Œë“¤ì–´ì¤Œìœ¼ë¡œì¨ í”„ë¡ íŠ¸ì—ì„œ ì´ ë©”ì„¸ì§€ë¥¼ ì²˜ë¦¬í•  ìˆ˜ ìˆê²Œ ëœë‹¤.

---

</br></br>

**Repository**

```java

@Mapper
public interface UserRepository {
	public User findUserByEmail(String email);
}

```

</br>

- xml fileë¡œ ëŒ€ì²´
- interfaceë¥¼ ì¨ì•¼ Mapperë¥¼ ì“¸ ìˆ˜ ìˆê³ , mybatisì—ì„œ ë°›ì„ ìˆ˜ ìˆë‹¤.
- Serviceì—ì„œ ë³´ë‚¸ emailì„ ë°ì´í„°ë² ì´ìŠ¤ë¡œ ë“¤ê³ ê°€ì„œ í™•ì¸ì„ í•œë‹¤.

---

</br></br>

**Sql**

```sql

<select id="findUserByEmail" resultMap="userMap">
  select
    ut.user_id,
    ut.email,
    ut.password,
    ut.name,
    ut.birth_day,
    ut.gender,
    ut.provider,
    ut.phone_number,
    
    at.authority_id,
    at.user_id,
    at.role_id,
    
    rt.role_id,
    rt.role_name
  from
    user_tb ut
    left outer join authority_tb at on(at.user_id = ut.user_id)
    left outer join role_tb rt on(rt.role_id = at.role_id)
  where
    ut.email = #{email}
</select>

```

</br>

- idëŠ” Repositoryì— ìˆëŠ” findUserByEmailì´ê³ , ê·¸ ë°˜í™˜ ê°’ì€ User ê°ì²´ë‹¤.
- whereë¬¸ì—ëŠ” user í…Œì´ë¸”ì— ìˆëŠ” emailê³¼ findUserByEmailì— ë§¤ê°œë³€ìˆ˜ emailì„ ë°›ì•„ì„œ ë¹„êµí•´ì¤€ë‹¤.
- ì´ whereë¬¸ì—ì„œ ì´ë©”ì¼ ë¹„êµë¥¼ í–ˆì„ ë•Œ, emailì´ ì¡´ì¬í•˜ë‹¤ë©´ ìœ„ Serviceì—ì„œ ì—ëŸ¬ ë©”ì„¸ì§€ë¥¼ ë„ìš°ê²Œ ë˜ëŠ” ê²ƒ.

---

</br></br>

**Database**

![ì´ë©”ì¼ í™•ì¸ ë°ì´í„°](https://github.com/iuejeong/-AWS-_Java_study_202212_euihyun/assets/121987405/a2e41380-3059-4807-a2b4-3c60148afe85)

</br>

- ì˜ìƒì—ì„œ ë³´ì—¬ì¡Œë˜ dmlgus3585@gmail.comì´ë¼ëŠ” ì´ë©”ì¼ì´ ì´ë¯¸ ì¡´ì¬í•˜ë‹¤ëŠ” ê²ƒì„ ì‚¬ì§„ì„ í†µí•´ í™•ì¸í•  ìˆ˜ ìˆë‹¤.

---
  
</div>
</details>

<details>
<summary>ê·¸ ì™¸ ìœ íš¨ì„± ê²€ì‚¬ ë° íšŒì›ê°€ì… ì„±ê³µ ì˜ìƒê³¼ ì½”ë“œ ë¦¬ë·°</summary>
<div markdown="1">

</br>

**ì˜ìƒ**

</br>

![ê·¸ ì™¸ ìœ íš¨ì„± ê²€ì‚¬ ë° íšŒì›ê°€ì… ì„±ê³µ](https://github.com/KORIT-KLJK/CrowdFunding-portfolio/assets/121987405/2dac8417-6567-427f-855a-fe6c728a2fd1)

</br></br>

## FrontEnd

**íšŒì›ê°€ì… ì •ë³´ ì…ë ¥**

```html

<div css={signupInputContainerWrap}>
    <FormControl variant="standard">
	    <Input id="input-with-icon-adornment"
		css={inputMargin}
		label="password"
		variant="outlined"
		placeholder="8-16ìì˜ ì˜ë¬¸ ë° ìˆ«ì, íŠ¹ìˆ˜ë¬¸ìë¥¼ ëª¨ë‘ í¬í•¨"
		name="password"
		type="password"
		onChange={onChangeHandler} 
		startAdornment={
		    <InputAdornment position="start">
		    <Lock />
		    </InputAdornment>
		} />
	    {errorMessage.password && <Alert css={errorCss} severity="error">{errorMessage.password}</Alert>}
    </FormControl>
</div>

<div css={signupInputContainerWrap}>
    <FormControl variant="standard">
	    <Input id="input-with-icon-adornment" 
		label="password" 
		variant="outlined" 
		placeholder="ë¹„ë°€ë²ˆí˜¸ ì¬ì…ë ¥" 
		name="confirmPassword" 
		type="password" 
		onChange={onChangeHandler} 
		startAdornment={
		    <InputAdornment position="start">
		    <Lock />
		    </InputAdornment>
		} />
	     {errorMessage.confirmPassword && <Alert css={errorCss} severity="error">{errorMessage.confirmPassword}</Alert>}
    </FormControl>
</div>

```

</br>

- ë¹„ë°€ë²ˆí˜¸ ì…ë ¥í•˜ëŠ” ë¶€ë¶„ë§Œ ì˜ˆì‹œë¡œ ë„£ì—ˆë‹¤. ë‚˜ë¨¸ì§€ëŠ” í˜•ì‹ì´ ë˜‘ê°™ìŒ.

---

</br></br>

**ì…ë ¥ ë°›ì€ ê°’ ì²˜ë¦¬**

```javascript

const onChangeHandler = (e) => {
    const { name, value } = e.target;
    setSignUp({...signUp, [name]: value});
}

```

</br>

- ìœ„ ë‚´ìš©ì—ì„œ name, valueì—ëŠ” ì´ë©”ì¼ë§Œ ë“¤ì–´ê°„ ëª¨ìŠµì„ ë³´ì—¬ì£¼ì—ˆì§€ë§Œ ì—¬ê¸°ì„œëŠ” ì´ë©”ì¼ í¬í•¨ ëª¨ë“  ì…ë ¥ ê°’ë“¤ì´ ë“¤ì–´ê°€ìˆë‹¤
- ì…ë ¥ ë°›ì€ ê°’ì„ setSignUpì— ë°ì´í„°ë¥¼ ë„£ì–´ì¤€ë‹¤.

---

</br></br>

**ìš”ì²­**

```html

<div css={signUpBtnContainer}>
    <Button variant="contained" css={signupBtn} onClick={signUpSubmit}>ê°€ì…í•˜ê¸°</Button>
</div>

```

</br>

```javascript

    const signUpSubmit = () => {
        register.mutate();
    }

```

</br>

```javascript

    const register = useMutation(async () => {
        
        if (!emailSubmitDisabled) {
            setEmailErrorMessage({email: ""})
            setErrorMessages({ email: "ì´ë©”ì¼ ì¤‘ë³µ í™•ì¸ì„ í•´ì£¼ì‹œê¸° ë°”ëë‹ˆë‹¤." });
            return;
        }

        if (signUp.password !== signUp.confirmPassword) {
            setErrorMessages({confirmPassword: "ë¹„ë°€ë²ˆí˜¸ê°€ ì¼ì¹˜í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤."});
            return;
        }
        const data = {
            ...signUp, ...address
        }

        const option = {
            headers: {
                "Content-Type": "application/json"
            }
        }
        try {
            await axios.post("http://localhost:8080/auth/signup", JSON.stringify(data), option)
            setErrorMessages({email: "", password: "", confirmPassword: "", name: "", gender: "", birthday: "", phoneNumber: "", zonecode: "", address: "", detailAddress: ""})
            alert("íšŒì›ê°€ì… ì™„ë£Œ")
            window.location.replace("/login")
        }catch(error) {
            setErrorMessages({email: "", password: "", confirmPassword: "", name: "", gender: "", birthday: "", phoneNumber: "",zonecode: "", address: "", detailAddress: "", ...error.response.data.errorData})
        }
    });

```

</br>

- ì´ë©”ì¼ ì¤‘ë³µí™•ì¸ ë¶€ë¶„ì—ì„œ setEmailSubmitDisabledì— trueë‚˜ falseë¥¼ ì¤¬ë‹¤. ë§Œì•½ falseì¸ ê²½ìš° ì´ë©”ì¼ ì¤‘ë³µí™•ì¸ì„ í•˜ì§€ ì•Šê³  ê°€ì…í•˜ê¸°ë¥¼ ëˆŒë €ì„ ë•Œ ì„œë²„ì—ì„œ ë°ì´í„°ë¥¼ ì²˜ë¦¬í•˜ê¸° ì–´ë ¤ì›Œ ì´ë ‡ê²Œ ì²˜ë¦¬ë¥¼ í•´ì¤¬ë‹¤. ë¹„ë°€ë²ˆí˜¸ ì¬ì…ë ¥ ë¶€ë¶„ë„ ë§ˆì°¬ê°€ì§€.

- ì—¬ê¸°ì„œ ì£¼ì†Œ ê²€ìƒ‰ì„ í•´ì„œ ì£¼ì†Œê°€ ë“¤ì–´ê°ˆ ê²½ìš°, ì´ì „ì— ë“¤ì–´ê°”ë˜ ìœ ì € ì •ë³´ë“¤ ìƒíƒœê°€ ì´ˆê¸°í™”ë˜ëŠ” ë¬¸ì œê°€ ìƒê²¼ì—ˆë‹¤.(ì´ ë•Œê¹Œì§„ signUp ìƒíƒœì— ì£¼ì†Œ ì •ë³´ê¹Œì§€ ë‹¤ ë„£ì—ˆì—ˆìŒ)
ì–´ë–»ê²Œ í•´ë„ ì•ˆ ë˜ê¸¸ë˜ ê²°êµ­ ìƒíƒœë¥¼ ë‘˜ë¡œ ë‚˜ëˆ ì„œ ìš”ì²­ì„ ë³´ë‚¸ ê²ƒ.

- ì—ëŸ¬ê°€ ìˆì„ ê²½ìš° errorMeesagesì— ìœ íš¨ì„± ê²€ì‚¬ë¥¼ í•˜ë©´ì„œ ì¤¬ë˜ ë©”ì„¸ì§€ê°€ ì…ë ¥ì´ ë˜ê³  ì €ì¥ì´ ëœë‹¤. ê·¸ë¦¬ê³  ì—ëŸ¬ ì—†ì´ ìš”ì²­ì´ ê°„ ë¶€ë¶„ì—ëŠ” ì—ëŸ¬ ë©”ì„¸ì§€ë¥¼ ê³µë°±ìœ¼ë¡œ ë¹„ì›Œì¤€ë‹¤.

---

</br></br>

## BackEnd

**Controller**

```java

@RestController
@RequiredArgsConstructor
@RequestMapping("/auth")
public class SignUpController {
	
	private final SignUpService signUpService;

	@ValidAspect
	@PostMapping("/signup")
	public ResponseEntity<?> signup(@Valid @RequestBody SignUpReqDto signUpReqDto, BindingResult bindingResult) {
		signUpService.signUp(signUpReqDto);
		return ResponseEntity.ok().body(true);
	}
	
}

```

</br>

- ìš”ì²­ì—ì„œ ë°›ì€ ë°ì´í„°ë¡œ ìœ íš¨ì„± ê²€ì‚¬ ì‹¤ì‹œ í›„ ì„±ê³µí•˜ë©´ signUpServiceì— signUpì— ë„˜ê¸´ë‹¤.

---

</br></br>

**Dto**

```java

@Data
public class SignUpReqDto {
	@Email
	@NotBlank(message="ì´ë©”ì¼ì„ ì…ë ¥í•˜ì„¸ìš”")
	private String email;
	
	@Pattern(regexp = "^(?=.*[A-Za-z])(?=.*\\d)(?=.*[@$!%*#?&])[A-Za-z\\d@$!%*#?&]{8,16}$",
		message = "ë¹„ë°€ë²ˆí˜¸ëŠ” ì˜ë¬¸ì, ìˆ«ì, íŠ¹ìˆ˜ë¬¸ìë¥¼ í¬í•¨í•˜ì—¬ 8 ~ 16ìë¡œ ì‘ì„±")
	private String password;
	
	@Pattern(regexp = "^[ê°€-í£]{2,7}$",
		message = "ì´ë¦„ì€ í•œê¸€ ì´ë¦„ë§Œ ì‘ì„± 	ê°€ëŠ¥í•©ë‹ˆë‹¤.")
	private String name;
	
    	@Pattern(regexp = "^\\d{4}-\\d{2}-\\d{2}$",
            	message = "ìƒë…„ì›”ì¼ì„ í˜•ì‹ì— ë§ê²Œ ì‘ì„±í•´ì£¼ì„¸ìš”.")
	private String birthday;
    
	@Pattern(regexp = "^(male|female)$",
            	message = "ì„±ë³„ì„ ì²´í¬í•´ì£¼ì„¸ìš”.")
	private String gender;
    
    	@Pattern(regexp = "^[0-9]{2,3}-[0-9]{3,4}-[0-9]{4}$",
    		message = "íœ´ëŒ€ì „í™”ë²ˆí˜¸ í˜•ì‹ì— ë§ê²Œ ì‘ì„±í•´ì£¼ì„¸ìš”.")
    	private String phoneNumber;
    
	@NotBlank(message = "ìš°í¸ë²ˆí˜¸ëŠ” í•„ìˆ˜ ì…ë ¥ ê°’ì…ë‹ˆë‹¤.")
	private String zonecode;
	
	@NotBlank(message = "ì£¼ì†ŒëŠ” í•„ìˆ˜ ì…ë ¥ ê°’ì…ë‹ˆë‹¤.")
	private String address;
	
	private String buildingName;
	private String bname;
	
	@NotBlank(message = "ìƒì„¸ ì£¼ì†ŒëŠ” í•„ìˆ˜ ì…ë ¥ ê°’ì…ë‹ˆë‹¤.")
	private String detailAddress;
	
	private String addressType;
	
	public User toUserEntity() {
		return User.builder()
				.email(email)
				.password(new BCryptPasswordEncoder().encode(password))
				.name(name)
				.birthday(birthday)
				.gender(gender)
				.phoneNumber(phoneNumber)
				.build();
	}
	
	public Address toAddressEntity() {
		return Address.builder()
				.zonecode(zonecode)
				.address(address)
				.buildingName(buildingName)
				.bname(bname)
				.detailAddress(detailAddress)
				.addressType(addressType)
				.build();
	}
}

```

</br>

- ìœ íš¨ì„± ê²€ì‚¬ ì‹¤íŒ¨ ì‹œì— ë„ì›Œì§€ëŠ” ë©”ì„¸ì§€ë“¤ì´ë‹¤.
- ë°ì´í„°ê°€ ì˜ ë“¤ì–´ì™”ë‹¤ë©´ toUserEntityì™€ toAddressEntityì— ìœ ì € ì •ë³´ë“¤ì´ ë“¤ì–´ê°„ë‹¤.
- ë¹„ë°€ë²ˆí˜¸ëŠ” ë³´ì•ˆì„±ì„ ìœ„í•´ BCryptë¡œ ë°”ê¿”ì¤¬ëŠ”ë°, ì´ BCryptëŠ” Spring Securityì—ì„œ ì œê³µí•˜ëŠ” ë¹„ë°€ë²ˆí˜¸ ì•”í˜¸í™”ê¸°ì´ê¸° ë•Œë¬¸ì— ì‚¬ìš©ì„ í•˜ê¸° ìœ„í•´ì„œëŠ” Beanì— ë“±ë¡ì´ ë˜ì–´ì•¼ í•œë‹¤.

```java

@Bean
public BCryptPasswordEncoder passwordEncoder() {
	return new BCryptPasswordEncoder();
}

```

- ì´ ì½”ë“œëŠ” ì›¹ ê´€ë ¨í•´ ë³´ì•ˆì„ ë‹¤ë£¨ëŠ” ê°ì²´ë¥¼ ë”°ë¡œ ë§Œë“¤ì—ˆëŠ”ë° ê·¸ê±´ ì•„ë˜ jwtì™€ oauth2, ê´€ë¦¬ì í˜ì´ì§€ì—ì„œ ê°™ì´ ë‹¤ë£° ê²ƒì´ë‹¤.

---

</br></br>

**Service**

```java

@Service
@RequiredArgsConstructor
public class SignUpService {
	
	private final UserRepository signUpRepository;
	private User userEntity;

	public int signUp(SignUpReqDto signUpReqDto) {
		userEntity = signUpReqDto.toUserEntity();
		signUpRepository.signUpUser(userEntity);

		signUpRepository.saveAuthority(
				Authority.builder()
				.userId(userEntity.getUserId())
				.roleId(1)
				.build());
		
		Address addressEntity = signUpReqDto.toAddressEntity();
		addressEntity.setUserId(userEntity.getUserId());
		
		
		return signUpRepository.saveAddress(addressEntity);
	}
}

```

</br>

- ë°ì´í„°ë² ì´ìŠ¤ì— ì£¼ì†Œ í…Œì´ë¸”ì—ëŠ” userIdê°€ ìˆëŠ”ë° íšŒì›ê°€ì…ì„ í•˜ê³ , ë°ì´í„°ë¥¼ í™•ì¸í•´ë³´ë‹ˆ ì£¼ì†Œ í…Œì´ë¸”ì— userIdê°€ ê³„ì† 0ì´ì—ˆë‹¤. ê·¸ë˜ì„œ ì¶œë ¥ìœ¼ë¡œ í•˜ë‚˜ì”© ì¶”ì í•´ì„œ ì°¾ì•„ë´¤ë”ë‹ˆ ë¨¸ë¦¿ì†ìœ¼ë¡œëŠ” ì´í•´ê°€ ë˜ì§ˆ ì•Šì•„ ì´ ë°©ë²• ì € ë°©ë²• ì¨ë³´ë‹¤ê°€ User ê°ì²´ë¥¼ ì „ì—­ ë³€ìˆ˜ë¡œ ë¹¼ë‹ˆê¹Œ ëë‹¤!

- AuthorityëŠ” ìœ ì €ì˜ ê¶Œí•œì„ ì˜ë¯¸í•˜ëŠ” ê°ì²´ì´ê³ , roleIdëŠ” 1ë²ˆì´ ROLE_USER, 2ë²ˆì´ ROLE_ADMINì´ë‹¤. ê·¸ë˜ì„œ ì´ê±´ ì¼ë°˜ íšŒì›ê°€ì…ì´ê¸° ë•Œë¬¸ì— ROLE_USERë¥¼ ë¶€ì—¬í•´ì¤€ ê²ƒ.

- ë°˜í™˜ ìë£Œí˜•ì€ ì„±ê³µ ê±´ìˆ˜ë¡œ ì‹¤íŒ¨ ì‹œ 0, ì„±ê³µ ì‹œ 1ì´ê¸° ë•Œë¬¸ì— intë¡œ ì¡ì•„ì¤Œ.

---

</br></br>

**Repository**

```java
@Mapper
public interface UserRepository {
	public int saveAddress(Address address);
	public int signUpUser(User user);
	public int saveAuthority(Authority authority);
}

```

- Serviceì—ì„œ ì£¼ì†Œ ì •ë³´, ìœ ì € ì •ë³´, ê¶Œí•œ ì •ë³´ ë°›ìŒ.

---

**Sql**

- ì£¼ì†Œ ì •ë³´ ë„£ê¸°

```sql

<insert id="saveAddress" 
	parameterType="com.webproject.crowdfunding.entity.Address"
	useGeneratedKeys="true"
	keyProperty="addressId">

	insert into address_tb
	values
	(0, #{userId}, #{zonecode}, #{address}, #{buildingName}, #{bname}, #{detailAddress}, #{addressType})
</insert>

```

</br>

- ìœ ì € ì •ë³´ ë„£ê¸°

```sql

<insert id="signUpUser"
	parameterType="com.webproject.crowdfunding.entity.User"
	useGeneratedKeys="true"
	keyProperty="userId">

	insert into user_tb
	values
	(0, #{email}, #{password}, #{name}, #{birthday}, #{gender}, #{provider}, #{phoneNumber})
</insert>

```

</br>
  
- ê¶Œí•œ ì •ë³´ ë„£ê¸°

```sql

<insert id="saveAuthority" parameterType="com.webproject.crowdfunding.entity.Authority">
	insert into authority_tb
	values
	(0, #{userId}, #{roleId})
</insert>

```

</br>

- ë°˜í™˜ ìë£Œí˜•ì„ ë„£ì–´ì£¼ê³ , insertê°€ ëœ í›„ì— ìë™ìƒì„±ëœ í‚¤ê°’ì„ í•´ë‹¹ idì— ë§ê²Œ ë„£ì–´ì£¼ê³  ìˆë‹¤.

---

</br></br>

**Database**

- ìœ ì € ì •ë³´ ë°ì´í„°

![íšŒì›ê°€ì… ì„±ê³µ ë°ì´í„°](https://github.com/iuejeong/-AWS-_Java_study_202212_euihyun/assets/121987405/351f5483-cfac-4fcd-aa3e-7d9884bce0a1)

</br>

- ì£¼ì†Œ ì •ë³´ ë°ì´í„°

![ì£¼ì†Œ ì •ë³´ ë°ì´í„°](https://github.com/iuejeong/-AWS-_Java_study_202212_euihyun/assets/121987405/28027045-fda0-4313-932d-96bbbd5a33b8)

</br>

- ê¶Œí•œ ì •ë³´ ë°ì´í„°

![ê¶Œí•œ ì •ë³´ ë°ì´í„°](https://github.com/iuejeong/-AWS-_Java_study_202212_euihyun/assets/121987405/0ced2a4d-b50b-4dd8-93fe-8439e8a89c1d)

</br>

- ì´ë ‡ê²Œ ë°ì´í„°ë¥¼ í™•ì¸í•  ìˆ˜ ìˆë‹¤.

---
  
</div>
</details>

<br/>

### **ë¡œê·¸ì¸ í™”ë©´ êµ¬í˜„ ì˜ìƒ ë° ì½”ë“œ ë¦¬ë·°**

<details>
<summary>ë¡œê·¸ì¸ ìœ íš¨ì„± ê²€ì‚¬ ë° ì˜ˆì™¸ ì²˜ë¦¬ ì˜ìƒ ê·¸ ì™¸ í† í° ë¶€ì—¬ ë° ê¶Œí•œ ì½”ë“œ ë¦¬ë·°</summary>
<div markdown="1">

</br>

**ì˜ìƒ**

</br>

![ë¡œê·¸ì¸ ìœ íš¨ì„± ê²€ì‚¬ ë° ì˜ˆì™¸ì²˜ë¦¬](https://github.com/KORIT-KLJK/CrowdFunding-portfolio/assets/121987405/f095cb2f-d0a7-4127-9279-44e37efbe79a)

</br></br>

## FrontEnd

**ì›¹ì—ì„œ ë¡œê·¸ì¸ ì •ë³´ ì…ë ¥**

```html

    <div css={loginRightSide}>
	<div css={loginInputContainer}>
	    <div css={loginInputContainerWrapId}>
		<i css={inputI}></i>
		<FormControl variant="standard">
		    <Input id="input-with-icon-adornment" 
			label="email" 
			variant="outlined" 
			placeholder="email" 
			name="email" 
			type="text" 
			onChange={informationHandle} 
			startAdornment={
			    <InputAdornment position="start">
			    <Mail />
			    </InputAdornment>
			} />
		    {errorMessages.email && <Alert css={errorCss} severity="error">{errorMessages.email}</Alert>}
		</FormControl>
	    </div>
	    <div css={loginInputContainerWrapPw}>
		<i css={inputI}></i>
		<FormControl variant="standard">
		    <Input id="input-with-icon-adornment" 
			label="password" 
			variant="outlined" 
			placeholder="password" 
			name="password" 
			type="Password" 
			onChange={informationHandle}
			onKeyPress={handleOnKeyPress}
			startAdornment={
			    <InputAdornment position="start">
			    <Lock />
			    </InputAdornment>
			} />
		    {errorMessages.password && <Alert css={errorCss} severity="error">{errorMessages.password}</Alert>}
		</FormControl>
	    </div>
	</div>
	<div>
	    <button css={loginBtn} onClick={loginHandleSubmit}>ë¡œê·¸ì¸</button>
	</div>

```

</br>

- ì•„ì´ë””ì™€ ë¹„ë°€ë²ˆí˜¸ë¥¼ ì…ë ¥í•œ í›„ ë¡œê·¸ì¸ ë²„íŠ¼ì„ í´ë¦­í•˜ê³ , ì˜¤ë¥˜ê°€ ìˆì„ ì‹œì— ì—ëŸ¬ ë©”ì„¸ì§€ë¥¼ ë„ìš°ê²Œ ì„¤ê³„

---

</br></br>

**ì…ë ¥ ë°›ì€ ê°’ ì²˜ë¦¬**

```javascript

    const informationHandle = (e) => {
        const { name, value } = e.target;
        setLoginUser({...loginUser, [name]: value})
    }

```

</br>

- ìœ„ì—ì„œ ë‹¤ë¤˜ë˜ ë‚´ìš©ê³¼ ë™ì¼

---

</br></br>

**ìš”ì²­**

```javascript

    const login = useMutation(async() => {
        const option = {
            headers: {
                "Content-Type": "application/json"
            }   
        }
        try{
            const response = await axios.post("http://localhost:8080/auth/login", JSON.stringify(loginUser), option);
            setErrorMessages({email: "", password: ""});
            const accessToken = response.data.accessToken;
            localStorage.setItem("accessToken", accessToken); 
            setAuthenticated(true);
            window.location.replace("/");
        } catch(error) {
            setErrorMessages({email: "", password: "", ...error.response.data.errorData});
            if(error.response.data.message === "ë¡œê·¸ì¸ ì‹¤íŒ¨") {
                alert("ì‚¬ìš©ì ì •ë³´ë¥¼ í™•ì¸í•´ì£¼ì„¸ìš”.")
            }
        }
    })

    const loginHandleSubmit = () => {
        login.mutate();
    }

```

</br>

- ë°ì´í„°ê°€ ì„±ê³µì ìœ¼ë¡œ ë“¤ì–´ê°”ìœ¼ë©´ ì›¹í˜ì´ì§€ë¥¼ ì´ìš©í•  ìˆ˜ ìˆëŠ” í† í°ì„ ë¶€ì—¬í•œë‹¤.

- useRecoilStateëŠ” ìƒíƒœë¥¼ ì „ì—­ìœ¼ë¡œ ê´€ë¦¬ë¥¼ í•˜ëŠ” ê²ƒ.

</br>

```javascript

const [ authenticated, setAuthenticated ] = useRecoilState(authenticatedState);

```

</br>

```javascript


export const authenticatedState = atom({
    key: "authenticatedState",
    default: false
});

```

</br>

- ê¸°ë³¸ ê°’ì€ falseì´ê³ , ìƒíƒœ í•˜ë‚˜í•˜ë‚˜ë¥¼ atomìœ¼ë¡œ ë³´ëŠ” ê²ƒì¸ë° ì—¬ê¸°ì„œ atomì´ë€ í•˜ë‚˜ì˜ ìƒíƒœë¥¼ ë‚˜íƒ€ë‚´ëŠ” ê°ì²´ë¡œ ìƒê°í•˜ë©´ ëœë‹¤.

- ë°ì´í„°ê°€ ì„±ê³µì ìœ¼ë¡œ ë“¤ì–´ê°”ìœ¼ë©´ ê¸°ë³¸ ê°’ì´ falseì˜€ë˜ ê²ƒì„ ë¡œê·¸ì¸ ì½”ë“œì—ì„œ trueë¡œ ë°”ê¿”ì£¼ëŠ” ê²ƒì´ë‹¤.

- ì´ ì½”ë“œë¥¼ ë§Œë“  ì´ìœ ëŠ” ë¡œê·¸ì¸ì„ í•œ ì‚¬ëŒê³¼ í•˜ì§€ ì•Šì€ ì‚¬ëŒì—ê²Œ ë‹¤ë¥¸ ì´ìš©ì„ í•  ìˆ˜ ìˆë„ë¡ í•˜ê¸° ìœ„í•´ ë§Œë“¤ì—ˆë‹¤.

---

</br></br>

**ê¶Œí•œì´ í•„ìš”í•œ ì›¹í˜ì´ì§€ì— ê¶Œí•œ ë¶€ì—¬**

```javascript

export const refreshState = atom({
    key: "refreshState",
    default: true
});

```

</br>

```javascript

const AuthRoute = ({ path, element }) => {
    const [ refresh, setRefresh ] = useRecoilState(refreshState);
    const accessToken = localStorage.getItem("accessToken");
    const navigate = useNavigate();

    const authenticated = useQuery(["authenticated"], async () => {
     const option = {
        headers: {
            Authorization: `Bearer ${accessToken}`
        }
     }
        try {
            const response = await axios.get("http://localhost:8080/auth/authenticated", option);
            return response;
        } catch(error) {
            localStorage.removeItem("accessToken");
            navigate("/login");
        }
    }, {
        refetchInterval: 1000 * 60
    });

    const principal = useQuery(["principal"], async () => {
        const option = {
            headers: {
                Authorization : `Bearer ${accessToken}`
            }
         }

        const response = await axios.get("http://localhost:8080/principal", option)
        return response;
        },{
            onSuccess: (response) => {
                const roles = response.data.authorities.split(",");
                if (path !== "/" && path.startsWith("/admin") && !roles.includes("ROLE_ADMIN")) {
                    alert("ì ‘ê·¼ ê¶Œí•œì´ ì—†ìŠµë‹ˆë‹¤.");
                    navigate("/");
                }
            },
            enabled: !!accessToken && !!authenticated.data
    });

    useEffect(() => {
        if(!refresh) {
            setRefresh(true);
        }
    }, [refresh]);
    
    

    if(authenticated.isLoading) {
        return <div>ë¡œë”©ì¤‘...</div>;
    }

    const permitAll = ["/login", "/signup", "/auth/oauth2/login", "/auth/oauth2/signup", "/auth/oauth2/merge"];

    if(!authenticated.data.data) {
        if(permitAll.includes(path)){
            return element;
        }
    }

    if(permitAll.includes(path)){
        navigate("/");
    }

    return element;
};

```

</br>

- useEffectë¥¼ ì‚¬ìš©í•¨ìœ¼ë¡œì¨ ë Œë”ë§ì´ ë  ë•Œ refreshê°€ falseì´ë©´ trueë¡œ ì£¼ë©´ì„œ, ê°•ì œë¡œ ì‘ì—…ì„ ìˆ˜í–‰í•  ìˆ˜ ìˆê²Œ ë§Œë“¤ì—ˆë‹¤.

- ë Œë”ë§ì´ ë  ë•Œ ë§ˆë‹¤ ë¡œê·¸ì¸ì„ í•˜ë©´ì„œ ë°œê¸‰ ë°›ì€ í† í°ë¥¼ 1ë¶„(refetchInterval: 1000 * 60ì—ì„œ 1000ì€ 1ì´ˆë¥¼ ì˜ë¯¸í•œë‹¤) ë§ˆë‹¤ ì¸ì¦ì„ í•˜ëŠ”ë°, í† í°ì´ ë§Œë£Œê°€ ë˜ê±°ë‚˜ ì˜ëª»ëœ í˜•ì‹ ë“± ì˜ˆì™¸ê°€ í„°ì§€ë©´ í† í°ì„ ì œê±°í•˜ê³  ë¡œê·¸ì•„ì›ƒì„ ì‹œí‚¨ë‹¤.

- ë Œë”ë§ì´ ë  ë•Œ ë§ˆë‹¤ ì¸ì¦ì´ ëœ í† í°ì„ ë³´ë‚´ëŠ”ë°, ì´ í† í°ì—ëŠ” ìœ ì €ì˜ ì •ë³´ë“¤ì´ ë‹´ê²¨ ìˆë‹¤. ì´ ì •ë³´ ì†ì„ ì—´ì–´ë³´ë©´ ë¶€ì—¬í•´ì¤€ ê¶Œí•œì´ ROLE_ADMINì´ ì•„ë‹Œë° ì›¹ ì£¼ì†Œì°½ì— /adminì´ë¼ëŠ” í˜ì´ì§€ë¥¼ ê°•ì œë¡œ ì—´ì–´ì„œ ì ‘ê·¼ì„ í–ˆì„ ë•Œ ê¶Œí•œì´ ì—†ë‹¤ëŠ” ê²ƒì„ ì•Œë ¤ì¤€ë‹¤.

- authenticatedì—ì„œ ì¸ì¦ë˜ì§€ ì•Šì€ ì‚¬ìš©ìì— ëŒ€í•´ permitAllì— ìˆëŠ” ê²½ë¡œë¥¼ ì´ìš©í•  ìˆ˜ ìˆê²Œ í•˜ê³ , ì¸ì¦ëœ ì‚¬ìš©ìë“¤ì€ ì € ê²½ë¡œë¥¼ ì´ìš©í•  ìˆ˜ ì—†ë„ë¡ ë©”ì¸ í™”ë©´ìœ¼ë¡œ ë³´ë‚¸ë‹¤.
ì´ë ‡ê²Œ ë§Œë“¤ì–´ì¤€ ì´ìœ ëŠ” ì¸ì¦ì´ ëë‹¤ëŠ” ê²ƒì€ ë¡œê·¸ì¸ì´ ëœ ê²ƒì„ ì˜ë¯¸í•˜ëŠ”ë°, ë¡œê·¸ì¸ì´ ëœ ì‚¬ëŒì´ ë‹¤ì‹œ ë¡œê·¸ì¸ ì°½ì„ ë“¤ì–´ê°€ëŠ” ìƒí™©ì´ë‚˜ íšŒì›ê°€ì…ì„ í•˜ëŠ” ìƒí™© ë“± ì˜³ì§€ ì•Šì€ ìƒí™©ë“¤ì„ ìƒê°í•˜ì—¬ ë„£ì–´ì¤¬ë‹¤.

</br>

```javascript

function App() {
  return (
    <>
      <Global styles={Reset}></Global>
      <HeaderMain />
      <Routes>
        <Route path="/" element={<Main />} />
        <Route path="/login" element={<AuthRoute path="/login" element={<Login />} />} />
        <Route path="/signup" element={<AuthRoute path="/signup" element={<SignUp />}/>} />
        <Route path="/search" element={<Search />} />
        <Route path="/giving" element={<Giving />} />
        <Route path="/giving/:pageId" element={<GivingDetail />} />
        <Route path="/funding" element={<Funding />} />
        <Route path="/funding/:pageId" element={<FundingDetail />} />
        <Route path="/admin/register/page" element={<AuthRoute path="/admin/register/page" element={<RegisterPage />}/>} />
        <Route path='/auth/oauth2/login' element={<AuthRoute path={"/auth/oauth2/login"} element={<OAuth2Login />}/>} />
        <Route path='/auth/oauth2/signup' element={<AuthRoute path={"/auth/oauth2/signup"} element={<OAuth2SignUp />}/>} />
        <Route path='/auth/oauth2/merge' element={<AuthRoute path={"/auth/oauth2/merge"} element={<OAuth2Merge />}/>} />
      </Routes>
    </>
  );
}

```

</br>

- ê²½ë¡œ ê´€ë ¨ app.js ì½”ë“œë‹¤.

---

</br></br>

## BackEnd

**Controller**

```java

@RestController
@RequiredArgsConstructor
@RequestMapping("/auth")
public class LoginController {
	
	private final LoginService loginService;
	
	@ValidAspect
	@PostMapping("/login")
	public ResponseEntity<?> login(@Valid @RequestBody LoginReqDto loginReqDto, BindingResult bindingResult) {
		return ResponseEntity.ok(loginService.login(loginReqDto));
	}
	 
	@GetMapping("/authenticated")
	public ResponseEntity<?> authenticated(@RequestHeader(value = "Authorization") String accessToken) {
		return ResponseEntity.ok().body(loginService.authenticated(accessToken));
	}
}

```

- ê°’ì„ ok ì•ˆì— ë„£ê±°ë‚˜, body ì•ˆì— ë„£ê±°ë‚˜ ë˜‘ê°™ë‹¤. í•˜ì§€ë§Œ badRequestëŠ” ì•ˆ ë¨. okë§Œ ê°€ëŠ¥

---

</br></br>

**Dto**

```java

@Data
public class LoginReqDto {
	@Email(message = "ì¡´ì¬í•˜ì§€ ì•ŠëŠ” ì´ë©”ì¼ì…ë‹ˆë‹¤.")
	@NotBlank(message="ì´ë©”ì¼ì„ ì…ë ¥í•˜ì„¸ìš”")
	private String email;
	
	@Pattern(regexp = "^(?=.*[A-Za-z])(?=.*\\d)(?=.*[@$!%*#?&])[A-Za-z\\d@$!%*#?&]{8,16}$",
			message = "ë¹„ë°€ë²ˆí˜¸ëŠ” ì˜ë¬¸ì, ìˆ«ì, íŠ¹ìˆ˜ë¬¸ìë¥¼ í¬í•¨í•˜ì—¬ 8 ~ 16ìë¡œ ì‘ì„±")
	private String password;
}

```

</br>

- ë¡œê·¸ì¸ ìœ íš¨ì„± ê²€ì‚¬

---

**Service**

```java

@Service
@RequiredArgsConstructor
public class LoginService {

	private final AuthenticationManagerBuilder authenticationManagerBuilder;
	private final JwtTokenProvider jwtTokenProvider;
	private final PasswordEncoder passwordEncoder;
	private final UserRepository userRepository;
	
	public JwtRespDto login(LoginReqDto loginReqDto) {
		
		User userEntity = userRepository.findUserByEmail(loginReqDto.getEmail());
		
		if(userEntity == null || !passwordEncoder.matches(loginReqDto.getPassword(), userEntity.getPassword())) {
			throw new CustomException("ë¡œê·¸ì¸ ì‹¤íŒ¨", ErrorMap.builder().put("login", "ì‚¬ìš©ì ì •ë³´ë¥¼ í™•ì¸í•˜ì„¸ìš”").build());
		}
		
		UsernamePasswordAuthenticationToken authenticationToken = 
				new UsernamePasswordAuthenticationToken(loginReqDto.getEmail(), loginReqDto.getPassword());
		Authentication authentication = authenticationManagerBuilder.getObject().authenticate(authenticationToken);
		return jwtTokenProvider.generateToken(authentication);
	}
	
	public boolean authenticated(String accessToken) {
		return jwtTokenProvider.validateToken(jwtTokenProvider.getToken(accessToken));
	}
}

```

- ë¨¼ì €, ë°ì´í„°ë² ì´ìŠ¤ì—ì„œ ì €ì¥ë˜ì–´ìˆëŠ” ì´ë©”ì¼ì„ ë“¤ê³ ì™€ì„œ í˜„ì¬ ë¡œê·¸ì¸ í•˜ë ¤ëŠ” ì´ë©”ì¼ê³¼ ë¹„êµë¥¼ í–ˆì„ ë•Œ ì¼ì¹˜í•˜ì§€ ì•Šê±°ë‚˜, ì •ë³´ê°€ ì—†ìœ¼ë©´ ì—ëŸ¬ë©”ì„¸ì§€ë¥¼ ë„ìš°ê²Œ í–ˆë‹¤. 

- ê·¸ ë‹¤ìŒ UsernamePasswordAuthenticationTokenì„ ì„ ì–¸í•´ì£¼ë©´ì„œ ë¡œê·¸ì¸í•œ ì•„ì´ë””ì™€ ë¹„ë°€ë²ˆí˜¸ë¥¼ ê°€ì§€ê³  ì¸ì¦ í† í°ì„ í•˜ë‚˜ ë§Œë“ ë‹¤.

- ê·¸ í† í°ì„ ê°€ì§€ê³  authenticationManagerBuilder.getObject().authenticate(authenticationToken)ì—ë‹¤ ë„£ì–´ì£¼ëŠ”ë° ì—¬ê¸°ì„œë¶€í„° ìŠ¤í”„ë§ë¶€íŠ¸ ë‚´ì—ì„œ authenticationManagerBuilderê°€ ì´ í† í° ì •ë³´ë¥¼ ê°€ì§€ê³  loadByUsernameë¼ëŠ” í•¨ìˆ˜ë¥¼ ì‹¤í–‰ì‹œí‚¨ë‹¤.

```java

@Service
@RequiredArgsConstructor
public class PrincipalDetailsService implements UserDetailsService {

	private final UserRepository signUpRepository;

	@Override
	public UserDetails loadUserByUsername(String email) throws UsernameNotFoundException {
		User userEntity = signUpRepository.findUserByEmail(email);
		return userEntity.toPrincipal();
	}

}

```

</br>

- ìœ„ë¥¼ ì‹¤í–‰ì‹œí‚¨ë‹¤ëŠ” ì˜ë¯¸ì¸ë°, ì—¬ê¸°ëŠ” ë¡œê·¸ì¸ ì •ë³´ë¥¼ ë‹´ê³  ìˆëŠ” ë¶€ë¶„ì´ë‹¤.

- ë°˜í™˜í•˜ê³  ìˆëŠ” toPrincipalì„ ë³´ìë©´ ì•„ë˜ì™€ ê°™ì´ ë˜ì–´ìˆë‹¤.

```java

@Builder
@Data
@AllArgsConstructor
@NoArgsConstructor
public class User {
	private int userId;
	private String email;
	private String password;
	private String name;
	private String birthday;
	private String gender;
	private String provider;
	private int addressId;
	private String phoneNumber;
	private List<Authority> authorities;
	
	public PrincipalUserDetails toPrincipal() {
		return PrincipalUserDetails.builder()
				.userId(userId)
				.email(email)
				.password(password)
				.roles(authorities)
				.build();
	}
}

```

</br>

```java

@Getter
@Builder
public class PrincipalUserDetails implements UserDetails{

	private static final long serialVersionUID = -8654755481982862798L;
	
	private int userId;
	private String email;
	private String password;
	private List<Authority> roles;
	
	@Override
	public Collection<? extends GrantedAuthority> getAuthorities() {
		List<SimpleGrantedAuthority> authorities = new ArrayList<>();
		roles.forEach(role -> {
			authorities.add(new SimpleGrantedAuthority(role.getRole().getRoleName()));
		});
		return authorities;
	}

	@Override
	public String getPassword() {
		return password;
	}

	@Override
	public String getUsername() {
		return email;
	}

	// ì‚¬ìš©ê¸°ê°„ ë§Œë£Œ = false
	@Override
	public boolean isAccountNonExpired() {
		return true;
	}

	// ê³„ì •ì„ ì ê¶ˆë²„ë¦¼ = false
	@Override
	public boolean isAccountNonLocked() {
		return true;
	}

	// ë¹„ë°€ë²ˆí˜¸ 5íšŒ í‹€ë ¸ì„ ë•Œ ì ê¶ˆë²„ë¦¼ = false
	@Override
	public boolean isCredentialsNonExpired() {
		return true;
	}

	// ê³„ì • ë¹„í™œì„± ìƒíƒœ(ì´ë©”ì¼ ì¸ì¦ì„ ì™„ë£Œí•´ì•¼ í•˜ê±°ë‚˜ ë˜ëŠ” ì „í™”ë²ˆí˜¸ ì¸ì¦ì„ í•˜ì§€ ì•Šì•˜ì„ ë•Œ) = false
	@Override
	public boolean isEnabled() {
		return true;
	}

}

```

</br>

- ê¶Œí•œ ê°ì²´ë¥¼ ìƒì„±í•´ì¤€ë‹¤.

- ê¶Œí•œ ëª©ë¡ì„ ë°˜í™˜, Listê°€ Collectionìœ¼ë¡œ ì—…ìºìŠ¤íŒ…ë¨

- User ê°ì²´ì—ì„œ Builderë¥¼ ì´ìš©í•´ ê°’ë“¤ì„ ë„£ì–´ì¤€ ë‹¤ìŒ, ê¶Œí•œ ê°ì²´ê¹Œì§€ ë§Œë“¤ì–´ì£¼ë©´ ì´ì œ Serviceì—ì„œ Authenticationì´ë¼ëŠ” ê°ì²´ê°€ ìƒì„±ì´ ëœë‹¤.

</br>

ìœ„ ì½”ë“œë¥¼ ë³´ë©´ ìƒì„±ëœ Authentication ê°ì²´ë¥¼ jwtTokenProvider.generateTokenì— ë„£ì–´ì£¼ëŠ”ë°, ì´ì œ jwtTokenProviderë¡œ ê°€ë³´ì.

```java

@Component
public class JwtTokenProvider {
	@Autowired
	private UserRepository userRepository;
	private final Key key;

	public JwtTokenProvider(@Value("${jwt.secret}") String secretKey) {	// @Componentì¼ ë•Œ ì‚¬ìš© ê°€ëŠ¥. ymlì˜ keyê°’ì´ ë§¤ê°œë³€ìˆ˜ë¡œ ë“¤ì–´ê°„ë‹¤
		key = Keys.hmacShaKeyFor(Decoders.BASE64.decode(secretKey));
	}

	public JwtRespDto generateToken(Authentication authentication) {
		StringBuilder builder = new StringBuilder();
		authentication.getAuthorities().forEach(authority -> {
			builder.append(authority.getAuthority() + ",");		// ë¬¸ìì—´ ì‚¬ìš©ê°€ëŠ¥, roleì´ í•˜ë‚˜ì”© ë‚˜ì˜¨ë‹¤.

		});

		builder.delete(builder.length() - 1, builder.length());		// ~ë¶€í„° ~ê¹Œì§€ ì§€ì›Œë¼. ì‰¼í‘œë¥¼ ì§€ìš°ê¸° ìœ„í•´ ì”€

		String authorities = builder.toString();	// role ê¶Œí•œë“¤ì„ ë¬¸ìì—´ë¡œ ë°”ê¾¸ê¸° ìœ„í•´ì„œ

		Date tokenExpiresDate = new Date(new Date().getTime() + (1000 * 60 * 60));	// 1000 * 60ì„ í•˜ë©´ 1ë¶„ì´ë‹¤. ê·¸ë˜ì„œ 1ì‹œê°„ì„ ë§Œë£Œ ì‹œê°„ìœ¼ë¡œ ì„¤ì •

		String accessToken = Jwts.builder()
				.setSubject(authentication.getName())	// í† í°ì˜ ì œëª©(í°ì´ë¦„), getName() = email
				.claim("auth", authorities)	// í† í° ì •ë³´ë¥¼ í‘œí˜„í•˜ê¸° ìœ„í•´ ì´ë¯¸ ì •í•´ì§„ ì¢…ë¥˜ì˜ ë°ì´í„°ë“¤ë¡œ ëª¨ë‘ ì„ íƒì ìœ¼ë¡œ ì‘ì„±ì´ ê°€ëŠ¥í•¨
				.setExpiration(tokenExpiresDate)	// í† í°ì˜ ë§Œë£Œê¸°ê°„
				.signWith(key, SignatureAlgorithm.HS256)	// í† í° ì•”í˜¸í™”
				.compact();

		return JwtRespDto.builder().grantType("Bearer").accessToken(accessToken).build();	// ì´í›„ controllerê°€ ë°›ëŠ”ë‹¤.

	}

	// Bearerë¥¼ ë—€ í† í° ê°’ì„ í’€ì–´ì„œ ê²€ì‚¬í•¨.
	public boolean validateToken(String token) {
		try {
			Jwts.parserBuilder()	// Jwt í˜•íƒœë¥¼ Jsonì´ ì•„ë‹Œ java í˜•íƒœë¡œ ì“°ê² ë‹¤
			.setSigningKey(key)		// tokenì´ ë§Œë“¤ì–´ì§„ keyë¡œ ë˜ì–´ìˆëŠ”ì§€ í™•ì¸
			.build()
			.parseClaimsJws(token);		// ìœ íš¨ì„± ê²€ì‚¬

			return true;

		// Security ë¼ì´ë¸ŒëŸ¬ë¦¬ì— ì˜¤ë¥˜ê°€ ìˆê±°ë‚˜, JSONì˜ formatì´ ì˜ëª»ëœ í˜•ì‹ì˜ JWTê°€ ë“¤ì–´ì™”ì„ ë•Œ ì˜ˆì™¸
		}catch (SecurityException | MalformedJwtException e) {
		}catch (ExpiredJwtException e) {
		}catch(UnsupportedJwtException e) {
		}catch(IllegalArgumentException e) {
		}catch(Exception e) {

		}

		// ì˜ˆì™¸ê°€ ì¼ì–´ë‚˜ë©´ ì¸ì¦ë˜ì§€ ì•Šì•˜ë‹¤, ì“¸ ìˆ˜ ì—†ëŠ” í† í°ì´ë‹¤
		return false;
	}
	// ìš”ì²­í•  ë•Œ í† í°ì„ Bearer ~~~~~~~~~~ë¼ëŠ” ê°’ìœ¼ë¡œ ë³´ë‚´ëŠ”ë°, í† í°ê°’ë§Œ ë„˜ê²¨ì£¼ê¸° ìœ„í•´ ì•ì— Bearerë¥¼ ì˜ë¼ì£¼ëŠ” ê³¼ì •.
	// í† í° ì•ì— Bearerë¥¼ ë¶™ì¸ ì´ìœ ëŠ” ê°œë°œìë¼ë¦¬ì˜ ì•½ì†ì´ë¼ê³  í•œë‹¤.
	public String getToken(String token) {
		String type = "Bearer ";
		if(StringUtils.hasText(token) && token.startsWith(type)) {
			return token.substring(type.length());
			
		}
		return null;
		
	}
	public Claims getClaims(String token) {
		return Jwts.parserBuilder()
				.setSigningKey(key)
				.build()
				.parseClaimsJws(token)
				.getBody();
	}
	
	public Authentication getAuthentication(String accessToken) {
		Authentication authentication = null;
		
		Claims claims = getClaims(accessToken);		// Claims í†µì§¸ë¡œ ë“¤ê³ ì˜¤ê¸°

		// Springì—ì„œ ê¸°ë³¸ì ìœ¼ë¡œ ì§€ì›í•´ì£¼ëŠ” UserDedatilsì„
		// new User(username, password, ê¶Œí•œ) == PrincipalDetails
		// passwordëŠ” ê³µê°œë˜ë©´ ì•ˆ ë˜ê¸° ë•Œë¬¸ì— ê³µë°±ì´ë‹¤
		User user = userRepository.findUserByEmail(claims.getSubject());
		PrincipalUserDetails principalUserDetails = user.toPrincipal();
		
		// new UsernamePasswordAuthenticationToken(Userê°ì²´, ìê²© ì¦ëª… ê°ì²´(SSL ë“± íšŒì‚¬ë“  ê³µê³µì—ì„œë“  ì¸ì¦ì„œê°€ í•„ìš”í•  ë•Œ. httpsì—ì„œ ì¦ëª…í•  ë•Œ ì“°ì„), ê¶Œí•œ)
		// returní•˜ë©´ ì—…ìºìŠ¤íŒ…ì´ ë¼ì„œ Authentication ê°ì²´ê°€ ëœë‹¤. UsernamePasswordAuthenticationTokenë¥¼ íƒ€ê³  ë“¤ì–´ê°€ë©´ Authenticationì„ implement í•˜ê³  ìˆë‹¤.
		// ì„ì‹œì˜ Authentication ê°ì²´ê°€ ìƒì„±
		authentication = new UsernamePasswordAuthenticationToken(principalUserDetails, null, principalUserDetails.getAuthorities());
		return authentication;
	}
}

```

</br>

- ì—¬ê¸°ì—ë‹¤ê°€ ì •ë¦¬í•˜ë ¤ë‹ˆ ë³µì¡í•´ì„œ í•œ ì¤„ ì£¼ì„ìœ¼ë¡œ ì •ë¦¬ë¥¼ í–ˆë‹¤. ì´ì œ í† í°ì´ ì˜ ê°€ê³µì´ ë˜ë©´ JwtRespDtoë¼ëŠ” ê°ì²´ê°€ ë°˜í™˜ì´ ë˜ëŠ”ë° ì½”ë“œëŠ” ì•„ë˜ì™€ ê°™ë‹¤.

```java

@Builder
@Data
public class JwtRespDto {
	private String grantType;
	private String accessToken;

}

```

</br>

- ì´ì œ ë¡œê·¸ì¸í•  ë•Œ í•„ìš”í•œ ì¸ì¦ì„ ê±°ì¹˜ê³ , ì¸ì¦ì˜ í‘œì‹œì¸ í† í°ê¹Œì§€ ë°œê¸‰ì„ ë°›ê²Œ ë˜ë©´ ì›¹í˜ì´ì§€ì—ì„œ ê¶Œí•œì´ ë“¤ì–´ê°„ ì„œë¹„ìŠ¤ë¥¼ ì‚¬ìš©í•  ìˆ˜ ìˆê²Œ ëœë‹¤.

ì´ì œ ì¢…í•©ì ìœ¼ë¡œ ë³´ë©´

1. Serviceì—ì„œ ì•„ì´ë””ì™€ ë¹„ë°€ë²ˆí˜¸ë¥¼ ê°€ì§€ê³  ì¸ì¦ì— í•„ìš”í•œ í† í°ì„ í•˜ë‚˜ ë§Œë“ ë‹¤.
2. ê·¸ í† í°ìœ¼ë¡œ ë°ì´í„°ë² ì´ìŠ¤ì— ìˆëŠ” ìœ ì €ê°€ ë§ëŠ”ì§€ ì´ë©”ì¼ë¡œ í™•ì¸ì„ í•œë‹¤.
3. ì´ë©”ì¼ í™•ì¸ì´ ë˜ë©´ userId, ì´ë©”ì¼, ë¹„ë°€ë²ˆí˜¸, ê¶Œí•œ ë‚´ìš©ê¹Œì§€ ë°˜í™˜ì„ í•œë‹¤.
4. Authenticationì´ë¼ëŠ” ê°ì²´ê°€ ìƒì„±ì´ ë˜ë©´ì„œ ìœ ì €ê°€ ì¸ì¦ì´ ëœ ê²ƒì´ë‹¤.
5. ìƒì„±ëœ Authentication ê°ì²´ì˜ ì •ë³´ë¥¼ jwtTokenProvider.generateTokenì— ë„˜ê¸°ëŠ”ë° ì—¬ê¸°ì„œ í† í°ì„ ê°€ê³µì„ í•´ì¤€ë‹¤.
6. ì´ìƒì—†ì´ ê°€ê³µì´ ëë‚˜ë©´ ê°€ê³µëœ í† í°ì„ Controllerë¡œ ë°˜í™˜ì„ í•´ì£¼ê³  ì›¹ì—ì„œ ë°›ëŠ”ë‹¤.

---
  
</div>
</details>

<br />

### **í€ë”© ë©”ì¸ í˜ì´ì§€ í™”ë©´ êµ¬í˜„ ì˜ìƒ ë° ì½”ë“œ ë¦¬ë·°**

<details>
<summary>1. ì¹´í…Œê³ ë¦¬ ì ìš© ì˜ìƒ</summary>
<div markdown="1">
  
![ì¹´í…Œê³ ë¦¬ - Clipchampë¡œ ì œì‘ (1)](https://github.com/KORIT-KLJK/CrowdFunding-portfolio/assets/121987405/402755b6-cfc9-4570-8a93-0c4274a2d2e8)

  
</div>
</details>

<details>
<summary>2. ì •ë ¬(ì „ì²´, ì§„í–‰ì¤‘, ì¢…ë£Œ) ì˜ìƒ</summary>
<div markdown="1">

![ì •ë ¬(ì „ì²´, ì§„í–‰ì¤‘, ì¢…ë£Œ)](https://github.com/KORIT-KLJK/CrowdFunding-portfolio/assets/121987405/8b3de60f-18f2-4500-bc2b-12b6f255214b)
  
</div>
</details>

<details>
<summary>3. ì •ë ¬(ìµœì‹  ìˆœ, ì°¸ì—¬ ê¸ˆì•¡ ìˆœ, ì°¸ì—¬ìœ¨ ìˆœ, ì¢…ë£Œ ì„ë°• ìˆœ) ì˜ìƒ</summary>
<div markdown="1">
<br/>

- ìµœì‹  ìˆœ
  
![ìµœì‹  ìˆœ - Clipchampë¡œ ì œì‘](https://github.com/KORIT-KLJK/CrowdFunding-portfolio/assets/121987405/6ee7a5ac-fa0e-491a-ab49-4d046c3c7a93)

<br/><br/>

- ì°¸ì—¬ê¸ˆì•¡ ìˆœ
  
![ì°¸ì—¬ ê¸ˆì•¡ ìˆœ - Clipchampë¡œ ì œì‘ (1)](https://github.com/KORIT-KLJK/CrowdFunding-portfolio/assets/121987405/2c598491-a31d-4f0b-887e-b296e686cd10)

<br/><br/>

- ì°¸ì—¬ìœ¨ ìˆœ

![ì°¸ì—¬ìœ¨ ìˆœ - Clipchampë¡œ ì œì‘ (1)](https://github.com/KORIT-KLJK/CrowdFunding-portfolio/assets/121987405/8034d691-c756-449c-b0fe-bd40a648a002)

<br/><br/>

- ì¢…ë£Œ ì„ë°• ìˆœ

![ì¢…ë£Œ ì„ë°• ìˆœ - Clipchampë¡œ ì œì‘](https://github.com/KORIT-KLJK/CrowdFunding-portfolio/assets/121987405/edbb6514-334a-4ae8-a8a5-dff336992268)
  
</div>
</details>

<details>
<summary>ì¹´í…Œê³ ë¦¬ ê´€ë ¨ ì½”ë“œ ë¦¬ë·°</summary>
<div markdown="1">

## FrontEnd

**ìš”ì²­**

- ë©”ì¸ í˜ì´ì§€ì— ì“¸ ê²ƒ

```javascript
    const [ searchParam, setSearchParam ] = useState({page: 1, fundingSortingReward: "ìµœì‹  ìˆœ", fundingSortingStatus: "ì „ì²´"});
    const [ refresh, setRefresh ] = useState(true);

    const fundingData = useQuery(["fundingData"], async () => {
        const option = {
            params : {
                ...searchParam
            }
        }
        const response = await axios.get("http://localhost:8080/funding/main", option);
        return response;
    }, {
        enabled: refresh,
        onSuccess: () => {
            setRefresh(false);
        }
    });

```

</br>

- ì¹´í…Œê³ ë¦¬ì— ì“¸ ê²ƒ

```javascript

    const fundingCategorys = useQuery(["fundingCategory"], async () => { 
        return await axios.get("http://localhost:8080/funding/category");
    });

```

</br>

- postìš”ì²­ì„ ë³´ë‚¼ ë• useMutationì„ ì¼ëŠ”ë° ì—¬ê¸°ì„œëŠ” useQueryë¥¼ ì“°ëŠ” ëª¨ìŠµì„ ë³¼ ìˆ˜ ìˆë‹¤. ë¨¼ì €, useMutationì€ post, put, deleteì™€ ê°™ì€ ìš”ì²­ì„ ì²˜ë¦¬í•˜ëŠ” ë°ì— ìˆì–´ì„œ ì“¸ ìˆ˜ ìˆê³ , useQueryëŠ” ë°ì´í„°ë¥¼ ì¡°íšŒí•  ë•Œ ì‚¬ìš©í•˜ê¸° ë•Œë¬¸ì— get ìš”ì²­ì— ì“°ì¸ë‹¤. useQueryë„ ë§ˆì°¬ê°€ì§€ë¡œ ìƒíƒœê´€ë¦¬ë‚˜ ì—ëŸ¬ ì²˜ë¦¬ì— ìˆì–´ì„œ ìš©ì´í•˜ê¸°ì— ì‚¬ìš©ì„ í•œë‹¤.

- searchParamì€ í˜ì´ì§€ë„¤ì´ì…˜ê³¼ ì •ë ¬ì„ ê°€ê³µí•˜ê¸° ìœ„í•´ ìš”ì²­ ë°ì´í„°ë¡œ ë³´ëƒˆë‹¤.

- enabledëŠ” ìš”ì²­ì„ í™œì„±í™”í•  ê²ƒì¸ì§€ ë¹„í™œì„±í™”ë¥¼ í•  ê²ƒì¸ì§€ ê²°ì •ì„ í•œë‹¤. ì´ˆê¸°ê°’ì— trueë¥¼ ë„£ì–´ì¤Œìœ¼ë¡œì¨ ì²˜ìŒ ìš”ì²­ì„ ë³´ë‚´ëŠ”ë° í™œì„±í™”ë¥¼ ì‹œí‚¤ê³ , ìš”ì²­ì´ ì˜¤ê³ ë‚˜ë©´ onSuccessê°€ ì‘ë™ì„ í•´ ë‹¤ì‹œ refreshë¥¼ falseë¡œ ì£¼ë©´ì„œ enabledë¥¼ ë¹„í™œì„±í™” ì‹œí‚¤ëŠ” ëª¨ìŠµì„ ë³¼ ìˆ˜ ìˆë‹¤. ì´ëŠ” ë°ì´í„°ë¥¼ ì²˜ìŒ í•œ ë²ˆë§Œ ê°€ì ¸ì˜¤ë©´ì„œ ì—ëŸ¬ë¥¼ ìµœì†Œí™”ë¥¼ ì‹œí‚¬ ìˆ˜ ìˆê³ , ë¡œë”© ì‹œê°„ë„ ì§§ê²Œ í•  ìˆ˜ ìˆê¸° ë•Œë¬¸ì— ì‚¬ìš©ì„ í–ˆë‹¤.

---

</br></br>

**í€ë”© ë©”ì¸ í˜ì´ì§€ html ì½”ë“œ**

```html

<div>
    <div css={welcomeFunding}><FundingSlide /></div>
    <div css={fundingMain}>
	<div css={fundingHeader}>
	    <button css={fundingCategoryMainButton} onClick={() => handleCategoryClick(null)}>ì „ì²´</button>
	    {fundingCategorys.isLoading ? <div>...ë¶ˆëŸ¬ì˜¤ëŠ” ì¤‘</div> : fundingCategorys.data.data.map(fundingCategory => (
		<div css={fundingCategoryContainer}>
		    <button css={fundingCategoryButton}
			    onClick={() =>handleCategoryClick(fundingCategory.fundingCategoryId)}
			    key={fundingCategory.fundingCategoryId}>
			{fundingCategory.categoryName}
		    </button>
		</div>
	    ))}
	</div>
	    <div css={sortingFundingStatusContainer}>
		<div css={fundingStatusDetail} onClick={statussortingHidden}>
		    <button css={fundingStatus}>{sortingStatus}</button>
		    <div>{statusHiddenFlag ? "â–³" : "â–½"}</div>
		    {statusHiddenFlag ? (<ul css={sortingFundingStatusList}>
			<li css={sortingFundingStatus} onClick={sortingStatusHandle}>ì „ì²´</li>
			<li css={sortingFundingStatus} onClick={sortingStatusHandle}>ì§„í–‰ì¤‘</li>
			<li css={sortingFundingStatus} onClick={sortingStatusHandle}>ì¢…ë£Œ</li>
		    </ul>) : ""}
		</div>
		<div css={fundingStatusDetail} onClick={rewardsortingHidden}>
		    <button css={fundingStatus}>{sortingReward}</button>
		    <div>{rewardHiddenFlag ? "â–³" : "â–½"}</div>
		{rewardHiddenFlag ? (<ul css={sortingFundingRewardStatusList}>
		    <li css={sortingFundingReward} onClick={sortingRewardHandle}>ìµœì‹  ìˆœ</li>
		    <li css={sortingFundingReward} onClick={sortingRewardHandle}>ì°¸ì—¬ ê¸ˆì•¡ ìˆœ</li>
		    <li css={sortingFundingReward} onClick={sortingRewardHandle}>ì°¸ì—¬ìœ¨ ìˆœ</li>
		    <li css={sortingFundingReward} onClick={sortingRewardHandle}>ì¢…ë£Œ ì„ë°• ìˆœ</li>
		</ul>) : ""}
		</div>
	    </div>
	<div css={fundingMainConatiner}>
	    {fundingData.data.data.fundingList.filter(
	    funding => selectedCategoryId === null ||
	    funding.fundingCategoryId === selectedCategoryId).map(funding => (
		<div css={fundingContainer} onClick={() => {fundingDetailHandle(funding.pageId)}}>
		    <div>
			<div css={imgBox}>
			    <img css={img} src={`http://localhost:8080/image/main/${funding.mainImgUrl}`} />
				<div css={checkFunding({funding})}>
				    <div css={fundingTxt}>í€ë”©</div>
				    <div>{funding.joinPercent >= 100 ? "ì„±ê³µ" : "ì¢…ë£Œ"}</div>
				</div>
			</div>
		    </div>
			<div key={funding.pageId}>
			    <div css={fundingContainerMainTitlePrice}>
				<div css={fundingContainerMainTitlePageTitle}>{funding.pageTitle}</div>
				<div css={fundingContainerMainPricePadding}>
				    <div css={fundingContainerMainPrice}>{funding.joinPercent}%</div>
				</div>
			    </div>
			    <div css={fundingContainerMainUsername}>{funding.fundingSummaryName}</div>
			</div>
		    <div css={fundingContainerFooter}>
			    <div css={fundingContainerFooterEventStatus}>{funding.eventStatus}</div>
			    <div css={fundingContainerFooterPrice}>{new Intl.NumberFormat('en-US').format(funding.totalRewardPrice)}ì›</div>
		    </div>
		</div>
	    ))}
	</div>
	<div>
	    <div css={pageNationContainer}>
		<div css={pageNationIndex} onClick={loadMore}>ë”ë³´ê¸°</div>
	    </div>
	</div>
	    <div css={footerContainer}>
		<Footer />
	    </div>
    </div>
</div>

```

</br>

- ì¹´í…Œê³ ë¦¬ì— ì „ì²´ë§Œ ë”°ë¡œ ë¹¼ë†“ì€ ì´ìœ ëŠ” í˜„ì¬ ë°ì´í„°ë² ì´ìŠ¤ì—ëŠ” ì „ì²´ë¼ëŠ” ì¹´í…Œê³ ë¦¬ê°€ ì¡´ì¬í•˜ì§€ ì•Šì•„ ë”°ë¡œ ì²˜ë¦¬í•´ì£¼ì—ˆë‹¤. onClick ì†ì„± ì•ˆì— handleCategoryClickì€ categoryIdë¥¼ ë„˜ê²¨ì¤€ë‹¤.

- ì •ë ¬ ë°©ì‹ì—ì„œ ì—´ë¦¼ê³¼ ë‹«í˜ì„ ë„£ê¸° ìœ„í•´ í´ë¦­ ì‹œì— ì‘ë™í•˜ëŠ” true false ìƒíƒœë¥¼ ì£¼ì—ˆë‹¤.

- í€ë”© ê¸°ê°„ì´ ì¢…ë£Œê°€ ëì„ ë•Œ í€ë”© ê¸ˆì•¡ì´ ëª©í‘œ ê¸ˆì•¡ì— 100í¼ì„¼íŠ¸ ë¯¸ë§Œì¼ ê²½ìš°ì— ì¢…ë£Œ, ì´ìƒì¼ ê²½ìš°ì— ì„±ê³µì„ ì¤Œìœ¼ë¡œì¨ ìœ ì €ë“¤ì´ ì¢…ë£Œëœ í€ë”© ìƒí’ˆë“¤ì˜ ê°€ì¹˜ë¥¼ ì‰½ê²Œ íŒŒì•…í•  ìˆ˜ ìˆë‹¤.

- ë‚˜ë¨¸ì§€ëŠ” ë°ì´í„°ë² ì´ìŠ¤ì—ì„œ ë“¤ê³ ì˜¨ ë°ì´í„°ë“¤ì„ ê·¸ëŒ€ë¡œ ë„£ì–´ì¤€ ê²ƒ.

---

</br></br>

**ì‘ë‹µ ë°›ì€ ë°ì´í„° ê°€ê³µ**

```javascript

    const handleCategoryClick = (categoryId) => {
        setSelectedCategoryId(categoryId);
    };

    const statussortingHidden = () => {
        if(statusHiddenFlag) {
            setStatusHiddenFlag(false);
        }else {
            setStatusHiddenFlag(true);
        }
    }

    const rewardsortingHidden = () => {
        if(rewardHiddenFlag) {
            setRewardHiddenFlag(false);
        }else {
            setRewardHiddenFlag(true);
        }
    }

    const sortingStatusHandle = (e) => {
        const statusText = e.target.textContent;
        setSearchParam({...searchParam, fundingSortingStatus: statusText, page: 1})
        setSortingStatus(statusText);
        setStatusHiddenFlag(false);
        setRefresh(true);
    }

    const sortingRewardHandle = (e) => {
        const rewardText = e.target.textContent;
        setSearchParam({ ...searchParam, fundingSortingReward: rewardText, page: 1});
        setSortingReward(rewardText);
        setRewardHiddenFlag(false);
        setRefresh(true);
    };

    const fundingDetailHandle = (pageId) => {
        navigate("/funding/" + pageId);
    }

    const loadMore = () => {
        if(!refresh) {
            setSearchParam({ ...searchParam, page: searchParam.page + 1});
            setRefresh(true);
        }
    };

```

</br>

- ì¹´í…Œê³ ë¦¬ ì„ íƒì— ë³´ë©´ htmlì—ì„œ ì¹´í…Œê³ ë¦¬ ë²„íŠ¼ì„ ëˆ„ë¥´ë©´ í•´ë‹¹ ì¹´í…Œê³ ë¦¬ idê°€ ë“¤ì–´ê°€ëŠ”ë° ê·¸ëŸ¬ë©´ ê·¸ idì— í•´ë‹¹í•˜ëŠ” ëª©ë¡ë“¤ë§Œ ë³´ì—¬ì§„ë‹¤. ì´ˆê¸° ê°’ì€ nullì¸ë° ì•„ë¬´ê²ƒë„ ëˆ„ë¥´ì§€ ì•Šì€ nullì¸ ìƒíƒœë©´ ì „ë¶€ ë‹¤ ë³´ì—¬ì§€ëŠ” ì „ì²´ ì¹´í…Œê³ ë¦¬ë„ ë§Œë“¤ì—ˆë‹¤.

- ì •ë ¬ ë²„íŠ¼ ì—´ê³  ë‹«ê¸°

- ì •ë ¬ì˜ ìƒíƒœê°€ ë°”ë€Œë©´ ë°”ë€ ê°’ì„ ë„£ì–´ì£¼ë©´ì„œ ìƒíƒœë¥¼ ì—…ë°ì´íŠ¸í•¨.

- ë³´ê³  ì‹¶ì€ í€ë”©ì˜ ìƒì„¸ ë‚´ìš©ì´ ê¶ê¸ˆí•´ í´ë¦­ì„ í•˜ë©´ í€ë”© ìƒì„¸í˜ì´ì§€ë¡œ ì´ë™ì„ í•œë‹¤.

- ë”ë³´ê¸°ë¥¼ ëˆ„ë¥¼ ë•Œ ë§ˆë‹¤ indexê°€ 0ë¶€í„° 1ì”© ì¦ê°€í•˜ëŠ”ë° ìì„¸í•œ í˜ì´ì§€ë„¤ì´ì…˜ ê¸°ëŠ¥ì€ ì•„ë˜ ì½”ë“œ ë¦¬ë·°ì—ì„œ ì§„í–‰í•  ê²ƒì´ë‹¤. 

---

</br></br>

## BackEnd

**Controller**

```java

@RestController
@RequiredArgsConstructor
@RequestMapping("/funding")
public class FundingMainController {
 
	private final FundingService fundingService;
	
	@GetMapping("/main")
	public ResponseEntity<?> fundingData(FundingEventReqDto fundingMainReqDto) {
		System.out.println(fundingMainReqDto);
		return ResponseEntity.ok(fundingService.toSaveFunding(fundingMainReqDto));
	}
	
	@GetMapping("/category")
	public ResponseEntity<?> fundingCategory() {
		return ResponseEntity.ok(fundingService.fundingCategory());
	}
	
}

```

- ìœ„ì—ì„œ ë³´ë‚¸ ìš”ì²­ ë°ì´í„°ë¥¼ ë°›ê³  Serviceë¡œ ë„˜ê¸´ë‹¤.

---

</br></br>

**Dto**

```java

@Data
public class FundingEventReqDto {
	private int page;
	private String fundingSortingReward;
	private String fundingSortingStatus;
}

```

- ìš”ì²­ì—ì„œ ë³´ë‚¸ ê²ƒì²˜ëŸ¼ ê¸°ë³¸ ê°’ìœ¼ë¡œ page: 1, fundingSortingReward: ìµœì‹  ìˆœ, fundingSortingStatus: ì „ì²´ê°€ê°€ ë“¤ì–´ê°„ë‹¤.

---

</br></br>

**Service**

```java

@Service
@RequiredArgsConstructor
public class FundingService {
	private final FundingRepository fundingRepository;
	
	public Map<String, Object> toSaveFunding(FundingEventReqDto fundingEventReqDto) {
		List<FundingMainRespDto> fundingList = new ArrayList<>();

		int index = fundingEventReqDto.getPage() * 20;
		Map<String, Object> eventStatusMap = new HashMap<>();
		eventStatusMap.put("index", index);
		eventStatusMap.put("fundingSortingReward", fundingEventReqDto.getFundingSortingReward());
		eventStatusMap.put("fundingSortingStatus", fundingEventReqDto.getFundingSortingStatus());
		
		fundingRepository.saveFunding(eventStatusMap).forEach(funding -> {
			fundingList.add(funding.toSaveFunding());
		});
		
		int totalCount = fundingRepository.getTotalCount(eventStatusMap);
		
		Map<String, Object> responseMap = new HashMap<>();
		responseMap.put("totalCount", totalCount);
		responseMap.put("fundingList", fundingList);
		return responseMap;
	}
	
	public List<FundingCategoryRespDto> fundingCategory() {
		List<FundingCategoryRespDto> fundingCategorys = new ArrayList<>();
		
		fundingRepository.getFundingCategory().forEach(fundingCategory -> {
			fundingCategorys.add(fundingCategory.fundingCategoryToDto());
		});
		return fundingCategorys;
	}
	
	
}

```

- FundingMainRespDto, FundingCategoryRespDtoì—ëŠ” í€ë”© ë©”ì¸í˜ì´ì§€ì— í•„ìš”í•œ sqlì—ì„œ ê°€ê³µí•œ ë°ì´í„°ê°€ ë“¤ì–´ê°„ë‹¤. ë§ì€ ë°ì´í„°ê°€ ë‹´ê²¨ìˆê¸° ë•Œë¬¸ì— Listë¡œ ë‹´ì•˜ë‹¤.

- pageëŠ” ë”ë³´ê¸°ë¥¼ í´ë¦­í• ìˆ˜ë¡ 20ê°œì”© ë³´ì—¬ì§€ê¸° ìœ„í•´ pageê°€ 1ë¶€í„° ì¦ê°€í•  ë•Œ ë§ˆ 20ì„ ê³±í•˜ë„ë¡ í–ˆë‹¤.

- Mapì„ ì¨ì¤€ ì´ìœ ëŠ” í”„ë¡ íŠ¸ì—ì„œ ë°ì´í„°ë¥¼ íŒŒì•…í•˜ê¸° ì‰½ê²Œ valueì— ê±¸ë§ì€ key ê°’ì„ ì„¤ì •ì„ í•´ì£¼ê³  ìˆë‹¤.

- ë‚˜ë¨¸ì§€ë„ sqlì—ì„œ ê°€ê³µí•œ ë°ì´í„°ë¥¼ ë“¤ê³ ì˜¨ë‹¤.

- ë’¤ì—ì„œë„ ì´ëŸ° í˜•ì‹ì˜ ì½”ë“œë¥¼ ì£¼ë¡œ ì‚¬ìš©í•  ê²ƒì´ë‹¤.

---

</br></br>

**ResponseDto**

- í€ë”© ë©”ì¸

```java

@Builder
@Data
public class FundingMainRespDto {
	private int pageId;
	private String fundingSummaryName;
	private String pageTitle;
	private String username;
	private int recentSort;
	private String nearDeadlineSort;
	private String eventStatus;
	private int goalTotal;
	private int totalRewardPrice;
	private int joinPercent;
	private String mainImgUrl;
	private int fundingCategoryId;
}

```



**Repository**

```java

@Mapper
public interface FundingRepository {
	public List<FundingCategory> getFundingCategory();
	public List<Funding> saveFunding(Map<String, Object> eventStatusMap);
	public int getTotalCount(Map<String, Object> totalMap);
}

```

---
  
</div>
</details>

<br/>

### **í€ë”© ìƒì„¸ í˜ì´ì§€ í™”ë©´ êµ¬í˜„ ì˜ìƒ ë° ì½”ë“œ ë¦¬ë·°**

<details>
<summary>í˜„ì¬ ì§„í–‰ ì¤‘ì¸ í€ë”©</summary>
<div markdown="1">

![ìƒì„¸í˜ì´ì§€ - Clipchampë¡œ ì œì‘](https://github.com/KORIT-KLJK/CrowdFunding-portfolio/assets/121987405/03dbfdd9-aa06-49b6-ae18-cbc3eb8a917a)

</div>
</details>

<details>
<summary>í€ë”© ì°¸ì—¬í•˜ê¸°(ê²°ì œ)</summary>
<div markdown="1">

![ê²°ì œ ì²˜ìŒ - Clipchampë¡œ ì œì‘](https://github.com/KORIT-KLJK/CrowdFunding-portfolio/assets/121987405/efa13972-cf36-46ce-8d24-88ef1951057a)

<br/><br/>

![KakaoTalk_20230624_165355960_01](https://github.com/KORIT-KLJK/CrowdFunding-portfolio/assets/121987405/3fab79c9-46f7-4985-8761-4cdb7d354bed)

<br/><br/>

![KakaoTalk_20230624_165355960_02](https://github.com/KORIT-KLJK/CrowdFunding-portfolio/assets/121987405/bf156ff1-3fbe-4c58-aba3-f42d68983b0c)

<br/><br/>

![KakaoTalk_20230624_165355960_03](https://github.com/KORIT-KLJK/CrowdFunding-portfolio/assets/121987405/d8413386-8d92-42d4-a32c-69af3ceb6727)

<br/><br/>

</div>
</details>

<details>
<summary>ì¢…ë£Œëœ í€ë”©</summary>
<div markdown="1">

![ì¢…ë£Œëœ í€ë”©](https://github.com/KORIT-KLJK/CrowdFunding-portfolio/assets/121987405/238f395c-98bc-4262-99c6-e3ce59013b34)

</div>
</details>

<br/>

### **ê´€ë¦¬ì í€ë”© ë° ê¸°ë¶€ ë“±ë¡ í˜ì´ì§€ í™”ë©´ êµ¬í˜„ ì˜ìƒ ë° ì½”ë“œ ë¦¬ë·°**

<details>
<summary>ê¸°ë¶€ ë° í€ë”© ë“±ë¡ ìœ íš¨ì„± ê²€ì‚¬</summary>
<div markdown="1">

![ê´€ë¦¬ì í˜ì´ì§€ ìœ íš¨ì„± ê²€ì‚¬ - Clipchampë¡œ ì œì‘](https://github.com/KORIT-KLJK/CrowdFunding-portfolio/assets/121987405/d5d256ce-e970-40a9-9496-9aa57a43197f)

</div>
</details>

<details>
<summary>ê¸°ë¶€ ë“±ë¡</summary>
<div markdown="1">

![ê¸°ë¶€ ë“±ë¡ - Clipchampë¡œ ì œì‘](https://github.com/KORIT-KLJK/CrowdFunding-portfolio/assets/121987405/311a9a48-11e9-44a9-8691-0def0355ba07)

</div>
</details>

<details>
<summary>í€ë”© ë“±ë¡</summary>
<div markdown="1">

![í€ë”© ë“±ë¡ - Clipchampë¡œ ì œì‘](https://github.com/KORIT-KLJK/CrowdFunding-portfolio/assets/121987405/69890336-542c-42f2-b6fd-43ee0dbd6f89)

</div>
</details>

<br/>

### **ê´€ë¦¬ì í€ë”© ë° ê¸°ë¶€ ìˆ˜ì • í™”ë©´ êµ¬í˜„ ì˜ìƒ ë° ì½”ë“œ ë¦¬ë·°**

<details>
<summary>ê¸°ë¶€ ìˆ˜ì •</summary>
<div markdown="1">

![ê¸°ë¶€ ìˆ˜ì • - Clipchampë¡œ ì œì‘](https://github.com/KORIT-KLJK/CrowdFunding-portfolio/assets/121987405/65ce4d46-6748-4936-bcba-4bd0ca3d5a26)

</div>
</details>

<details>
<summary>í€ë”© ìˆ˜ì •</summary>
<div markdown="1">
  
![í€ë”© ìˆ˜ì • - Clipchampë¡œ ì œì‘](https://github.com/KORIT-KLJK/CrowdFunding-portfolio/assets/121987405/5c1ae2c5-038e-49be-8fbc-611f014ca421)

</div>
</details>

<br/>

### **ê´€ë¦¬ì í€ë”© ë° ê¸°ë¶€ ì‚­ì œ í™”ë©´ êµ¬í˜„ ì˜ìƒ ë° ì½”ë“œ ë¦¬ë·°**

<details>
<summary>ê¸°ë¶€ ì‚­ì œ</summary>
<div markdown="1">
  
![ê¸°ë¶€ ì‚­ì œ - Clipchampë¡œ ì œì‘](https://github.com/KORIT-KLJK/CrowdFunding-portfolio/assets/121987405/91f9ff1a-73c5-4350-9682-3bfb66b8552d)

</div>
</details>

<details>
<summary>í€ë”© ì‚­ì œ</summary>
<div markdown="1">
  
![í€ë”© ì‚­ì œ - Clipchampë¡œ ì œì‘](https://github.com/KORIT-KLJK/CrowdFunding-portfolio/assets/121987405/b0d12753-abce-45a6-9fa3-caca513d43f4)

</div>
</details>

<br/>

### **OAuth2 íšŒì›ê°€ì… ë° ë¡œê·¸ì¸ í™”ë©´ êµ¬í˜„ ì˜ìƒ ë° ì½”ë“œ ë¦¬ë·°**

<details>
<summary>OAuth2 íšŒì›ê°€ì… ë° ë¡œê·¸ì¸</summary>
<div markdown="1">
  
![OAuth2 íšŒì›ê°€ì… ë° ë¡œê·¸ì¸ - Clipchampë¡œ ì œì‘](https://github.com/KORIT-KLJK/CrowdFunding-portfolio/assets/121987405/c2bebc58-65d9-4b68-adba-dc939e1d0883)

</div>
</details>

<br/>

### **OAuth2 Google, Kakao ê³„ì • í†µí•© í™”ë©´ êµ¬í˜„ ì˜ìƒ ë° ì½”ë“œ ë¦¬ë·°**

<details>
<summary>OAuth2 ê³„ì • í†µí•©</summary>
<div markdown="1">
  
![OAuth2 ê³„ì • í†µí•© - Clipchampë¡œ ì œì‘](https://github.com/KORIT-KLJK/CrowdFunding-portfolio/assets/121987405/478e6782-37a1-4e0b-b352-fcbd70c0b817)


</div>
</details>

<br/>
